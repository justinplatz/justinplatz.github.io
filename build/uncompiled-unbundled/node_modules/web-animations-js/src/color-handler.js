(function(scope,testing){var canvas=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");canvas.width=canvas.height=1;var context=canvas.getContext("2d");function parseColor(string){string=string.trim();context.fillStyle="#000";context.fillStyle=string;var contextSerializedFillStyle=context.fillStyle;context.fillStyle="#fff";context.fillStyle=string;if(contextSerializedFillStyle!=context.fillStyle)return;context.fillRect(0,0,1,1);var pixelColor=context.getImageData(0,0,1,1).data;context.clearRect(0,0,1,1);var alpha=pixelColor[3]/255;return[pixelColor[0]*alpha,pixelColor[1]*alpha,pixelColor[2]*alpha,alpha]}function mergeColors(left,right){return[left,right,function(x){function clamp(v){return Math.max(0,Math.min(255,v))}if(x[3]){for(var i=0;3>i;i++)x[i]=Math.round(clamp(x[i]/x[3]))}x[3]=scope.numberToString(scope.clamp(0,1,x[3]));return"rgba("+x.join(",")+")"}]}scope.addPropertiesHandler(parseColor,mergeColors,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]);scope.consumeColor=scope.consumeParenthesised.bind(null,parseColor);scope.mergeColors=mergeColors;if(WEB_ANIMATIONS_TESTING){testing.parseColor=parseColor}})(webAnimations1,webAnimationsTesting);