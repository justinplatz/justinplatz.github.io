(function(){'use strict';const CustomStyleInterface=window.ShadyCSS.CustomStyleInterface;function shouldAddDocumentStyle(n){return n.nodeType===Node.ELEMENT_NODE&&"style"===n.localName&&!n.hasAttribute("scope")}function handler(mxns){for(let i=0,mxn;i<mxns.length;i++){mxn=mxns[i];for(let j=0,n;j<mxn.addedNodes.length;j++){n=mxn.addedNodes[j];if(shouldAddDocumentStyle(n)){CustomStyleInterface.addCustomStyle(n)}}}}const observer=new MutationObserver(handler);document.addEventListener("DOMContentLoaded",()=>{const candidates=document.querySelectorAll("custom-style");for(let i=0;i<candidates.length;i++){const candidate=candidates[i];if(shouldAddDocumentStyle(candidate)){CustomStyleInterface.addCustomStyle(candidate)}}observer.observe(document,{childList:!0,subtree:!0})});window.documentStyleFlush=()=>{handler(observer.takeRecords())}})();