<!DOCTYPE html><html><head><meta charset="utf-8"><title>SVG</title><script>window.ShadyDOM={force:!0};window.ShadyCSS={shimshadow:!0};</script><script>WCT={waitFor:function(cb){HTMLImports.whenReady(cb)}};</script><script src="./test-flags.js"></script><script src="../../web-component-tester/browser.js"></script><script src="../../webcomponents-platform/webcomponents-platform.js"></script><script src="../../es6-promise/dist/es6-promise.auto.min.js"></script><script src="../../template/template.js"></script><script src="../../html-imports/html-imports.min.js"></script><script src="../../shadydom/shadydom.min.js"></script><script src="../../custom-elements/custom-elements.min.js"></script><script src="../scoping-shim.min.js"></script><script src="../apply-shim.min.js"></script><script src="../custom-style-interface.min.js"></script><script src="module/generated/svg-in-shadow.js"></script></head><body><template id="svg-in-shadow"><style>:host{display:inline-block;background-color:#ccc;}.test-class{border:3px solid blue;}circle{fill:blue;}</style><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100px" height="100px" viewBox="0 0 100 100" class="test-class"></svg></template><script>suite("SVG",function(){var STYLE_SCOPE_CLASS="style-scope";suiteSetup(function(){window.registerSVGElement()});function flush(){if(window.ShadyDOM){window.ShadyDOM.flush()}window.ShadyCSS.ScopingShim.flush()}test("SVG elements within a style scope should have style scoping classes.",function(){var elementWithSVG=document.createElement("svg-in-shadow");document.body.appendChild(elementWithSVG);flush();var svg=elementWithSVG.svg;assert(-1<svg.getAttribute("class").indexOf(STYLE_SCOPE_CLASS));var circle=elementWithSVG.addCircle();flush();assert(-1<circle.getAttribute("class").indexOf(STYLE_SCOPE_CLASS));document.body.removeChild(elementWithSVG)});test("SVG elements removed from style scopes should have scoping classes removed.",function(){var elementWithSVG=document.createElement("svg-in-shadow");document.body.appendChild(elementWithSVG);flush();var svg=elementWithSVG.svg,circle=elementWithSVG.addCircle();flush();svg.parentNode.removeChild(svg);document.body.appendChild(svg);flush();assert.equal(svg.getAttribute("class").trim(),"test-class");if(svg.hasAttribute("class")){assert(-1===svg.getAttribute("class").indexOf(STYLE_SCOPE_CLASS))}if(circle.hasAttribute("class")){assert(-1===circle.getAttribute("class").indexOf(STYLE_SCOPE_CLASS))}document.body.removeChild(elementWithSVG);document.body.removeChild(svg)})});</script></body></html>