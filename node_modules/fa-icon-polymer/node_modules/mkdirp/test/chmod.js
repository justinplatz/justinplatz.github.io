for(var mkdirp=require("../").mkdirp,path=require("path"),fs=require("fs"),test=require("tap").test,_0777=parseInt("0777",8),_0755=parseInt("0755",8),_0744=parseInt("0744",8),ps=["","tmp"],i=0,dir;25>i;i++){dir=Math.floor(65536*Math.random()).toString(16);ps.push(dir)}var file=ps.join("/");test("chmod-pre",function(t){var mode=_0744;mkdirp(file,mode,function(er){t.ifError(er,"should not error");fs.stat(file,function(er,stat){t.ifError(er,"should exist");t.ok(stat&&stat.isDirectory(),"should be directory");t.equal(stat&&stat.mode&_0777,mode,"should be 0744");t.end()})})});test("chmod",function(t){var mode=_0755;mkdirp(file,mode,function(er){t.ifError(er,"should not error");fs.stat(file,function(er,stat){t.ifError(er,"should exist");t.ok(stat&&stat.isDirectory(),"should be directory");t.end()})})});