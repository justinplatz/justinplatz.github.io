var inspect=require("./inspect"),config=require("../config");module.exports=function(obj){var str=inspect(obj),type=Object.prototype.toString.call(obj);if(config.truncateThreshold&&str.length>=config.truncateThreshold){if("[object Function]"===type){return!obj.name||""===obj.name?"[Function]":"[Function: "+obj.name+"]"}else if("[object Array]"===type){return"[ Array("+obj.length+") ]"}else if("[object Object]"===type){var keys=Object.keys(obj),kstr=2<keys.length?keys.splice(0,2).join(", ")+", ...":keys.join(", ");return"{ Object ("+kstr+") }"}else{return str}}else{return str}};