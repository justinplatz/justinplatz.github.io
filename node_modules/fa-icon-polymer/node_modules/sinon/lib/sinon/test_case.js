(function(sinonGlobal){"use strict";function createTest(property,setUp,tearDown){return function(){if(setUp){setUp.apply(this,arguments)}var exception,result;try{result=property.apply(this,arguments)}catch(e){exception=e}if(tearDown){tearDown.apply(this,arguments)}if(exception){throw exception}return result}}function makeApi(sinon){function testCase(tests,prefix){if(!tests||"object"!==typeof tests){throw new TypeError("sinon.testCase needs an object with test functions")}prefix=prefix||"test";var rPrefix=new RegExp("^"+prefix),methods={},setUp=tests.setUp,tearDown=tests.tearDown,testName,property,method;for(testName in tests){if(tests.hasOwnProperty(testName)&&!/^(setUp|tearDown)$/.test(testName)){property=tests[testName];if("function"===typeof property&&rPrefix.test(testName)){method=property;if(setUp||tearDown){method=createTest(property,setUp,tearDown)}methods[testName]=sinon.test(method)}else{methods[testName]=tests[testName]}}}return methods}sinon.testCase=testCase;return testCase}var isNode="undefined"!==typeof module&&module.exports&&"function"===typeof require,isAMD="function"===typeof define&&"object"===typeof define.amd&&define.amd;function loadDependencies(require,exports,module){var core=require("./util/core");require("./test");module.exports=makeApi(core)}if(isAMD){define(loadDependencies);return}if(isNode){loadDependencies(require,module.exports,module);return}if(sinonGlobal){makeApi(sinonGlobal)}})("object"===typeof sinon&&sinon);