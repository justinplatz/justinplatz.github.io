(function(){var assign=Object.assign||function(obj1,obj2){for(var name in obj2){if(obj2.hasOwnProperty(name))obj1[name]=obj2[name]}return obj1};function NormalizeWhitespace(defaults){this.defaults=assign({},defaults)}function toCamelCase(value){return value.replace(/-(\w)/g,function(match,firstChar){return firstChar.toUpperCase()})}function tabLen(str){for(var res=0,i=0;i<str.length;++i){if(str.charCodeAt(i)=="\t".charCodeAt(0))res+=3}return str.length+res}NormalizeWhitespace.prototype={setDefaults:function(defaults){this.defaults=assign(this.defaults,defaults)},normalize:function(input,settings){settings=assign(this.defaults,settings);for(var name in settings){var methodName=toCamelCase(name);if("normalize"!==name&&"setDefaults"!==methodName&&settings[name]&&this[methodName]){input=this[methodName].call(this,input,settings[name])}}return input},leftTrim:function(input){return input.replace(/^\s+/,"")},rightTrim:function(input){return input.replace(/\s+$/,"")},tabsToSpaces:function(input,spaces){spaces=0|spaces||4;return input.replace(/\t/g,Array(++spaces).join(" "))},spacesToTabs:function(input,spaces){spaces=0|spaces||4;return input.replace(new RegExp(" {"+spaces+"}","g"),"\t")},removeTrailing:function(input){return input.replace(/\s*?$/gm,"")},removeInitialLineFeed:function(input){return input.replace(/^(?:\r?\n|\r)/,"")},removeIndent:function(input){var indents=input.match(/^[^\S\n\r]*(?=\S)/gm);if(!indents||!indents[0].length)return input;indents.sort(function(a,b){return a.length-b.length});if(!indents[0].length)return input;return input.replace(new RegExp("^"+indents[0],"gm"),"")},indent:function(input,tabs){return input.replace(/^[^\S\n\r]*(?=\S)/gm,Array(++tabs).join("\t")+"$&")},breakLines:function(input,characters){characters=!0===characters?80:0|characters||80;for(var lines=input.split("\n"),i=0;i<lines.length;++i){if(tabLen(lines[i])<=characters)continue;for(var line=lines[i].split(/(\s+)/g),len=0,j=0,tl;j<line.length;++j){tl=tabLen(line[j]);len+=tl;if(len>characters){line[j]="\n"+line[j];len=tl}}lines[i]=line.join("")}return lines.join("\n")}};if("undefined"!==typeof module&&module.exports){module.exports=NormalizeWhitespace}if("undefined"===typeof Prism){return}Prism.plugins.NormalizeWhitespace=new NormalizeWhitespace({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0});Prism.hooks.add("before-sanity-check",function(env){var Normalizer=Prism.plugins.NormalizeWhitespace;if(env.settings&&!1===env.settings["whitespace-normalization"]){return}if((!env.element||!env.element.parentNode)&&env.code){env.code=Normalizer.normalize(env.code,env.settings);return}var pre=env.element.parentNode,clsReg=/\bno-whitespace-normalization\b/;if(!env.code||!pre||"pre"!==pre.nodeName.toLowerCase()||clsReg.test(pre.className)||clsReg.test(env.element.className))return;for(var children=pre.childNodes,before="",after="",codeFound=!1,i=0,node;i<children.length;++i){node=children[i];if(node==env.element){codeFound=!0}else if("#text"===node.nodeName){if(codeFound){after+=node.nodeValue}else{before+=node.nodeValue}pre.removeChild(node);--i}}if(!env.element.children.length||!Prism.plugins.KeepMarkup){env.code=before+env.code+after;env.code=Normalizer.normalize(env.code,env.settings)}else{var html=before+env.element.innerHTML+after;env.element.innerHTML=Normalizer.normalize(html,env.settings);env.code=env.element.textContent}})})();