("function"===typeof define&&define.amd&&function(m){define("samsam",m)}||"object"===typeof module&&function(m){module.exports=m()}||function(m){this.samsam=m()})(function(){var o=Object.prototype,div="undefined"!==typeof document&&document.createElement("div");function isNaN(value){var val=value;return"number"===typeof value&&value!==val}function getClass(value){return o.toString.call(value).split(/[ \]]/)[1]}function isArguments(object){if("Arguments"===getClass(object)){return!0}if("object"!==typeof object||"number"!==typeof object.length||"Array"===getClass(object)){return!1}if("function"==typeof object.callee){return!0}try{object[object.length]=6;delete object[object.length]}catch(e){return!0}return!1}function isElement(object){if(!object||1!==object.nodeType||!div){return!1}try{object.appendChild(div);object.removeChild(div)}catch(e){return!1}return!0}function keys(object){var ks=[],prop;for(prop in object){if(o.hasOwnProperty.call(object,prop)){ks.push(prop)}}return ks}function isDate(value){return"function"==typeof value.getTime&&value.getTime()==value.valueOf()}function isNegZero(value){return 0===value&&1/value===-Infinity}function identical(obj1,obj2){if(obj1===obj2||isNaN(obj1)&&isNaN(obj2)){return 0!==obj1||isNegZero(obj1)===isNegZero(obj2)}}function deepEqualCyclic(obj1,obj2){var objects1=[],objects2=[],paths1=[],paths2=[],compared={};function isObject(value){if("object"===typeof value&&null!==value&&!(value instanceof Boolean)&&!(value instanceof Date)&&!(value instanceof Number)&&!(value instanceof RegExp)&&!(value instanceof String)){return!0}return!1}function getIndex(objects,obj){var i;for(i=0;i<objects.length;i++){if(objects[i]===obj){return i}}return-1}return function deepEqual(obj1,obj2,path1,path2){var type1=typeof obj1,type2=typeof obj2;if(obj1===obj2||isNaN(obj1)||isNaN(obj2)||null==obj1||null==obj2||"object"!==type1||"object"!==type2){return identical(obj1,obj2)}if(isElement(obj1)||isElement(obj2)){return!1}var isDate1=isDate(obj1),isDate2=isDate(obj2);if(isDate1||isDate2){if(!isDate1||!isDate2||obj1.getTime()!==obj2.getTime()){return!1}}if(obj1 instanceof RegExp&&obj2 instanceof RegExp){if(obj1.toString()!==obj2.toString()){return!1}}var class1=getClass(obj1),class2=getClass(obj2),keys1=keys(obj1),keys2=keys(obj2);if(isArguments(obj1)||isArguments(obj2)){if(obj1.length!==obj2.length){return!1}}else{if(type1!==type2||class1!==class2||keys1.length!==keys2.length){return!1}}var key,i,l,value1,value2,isObject1,isObject2,index1,index2,newPath1,newPath2;for(i=0,l=keys1.length;i<l;i++){key=keys1[i];if(!o.hasOwnProperty.call(obj2,key)){return!1}value1=obj1[key];value2=obj2[key];isObject1=isObject(value1);isObject2=isObject(value2);index1=isObject1?getIndex(objects1,value1):-1;index2=isObject2?getIndex(objects2,value2):-1;newPath1=-1!==index1?paths1[index1]:path1+"["+JSON.stringify(key)+"]";newPath2=-1!==index2?paths2[index2]:path2+"["+JSON.stringify(key)+"]";if(compared[newPath1+newPath2]){return!0}if(-1===index1&&isObject1){objects1.push(value1);paths1.push(newPath1)}if(-1===index2&&isObject2){objects2.push(value2);paths2.push(newPath2)}if(isObject1&&isObject2){compared[newPath1+newPath2]=!0}if(!deepEqual(value1,value2,newPath1,newPath2)){return!1}}return!0}(obj1,obj2,"$1","$2")}var match;function arrayContains(array,subset){if(0===subset.length){return!0}var i,l,j,k;for(i=0,l=array.length;i<l;++i){if(match(array[i],subset[0])){for(j=0,k=subset.length;j<k;++j){if(!match(array[i+j],subset[j])){return!1}}return!0}}return!1}match=function match(object,matcher){if(matcher&&"function"===typeof matcher.test){return matcher.test(object)}if("function"===typeof matcher){return!0===matcher(object)}if("string"===typeof matcher){matcher=matcher.toLowerCase();var notNull="string"===typeof object||!!object;return notNull&&0<=(object+"").toLowerCase().indexOf(matcher)}if("number"===typeof matcher){return matcher===object}if("boolean"===typeof matcher){return matcher===object}if("undefined"===typeof matcher){return"undefined"===typeof object}if(null===matcher){return null===object}if("Array"===getClass(object)&&"Array"===getClass(matcher)){return arrayContains(object,matcher)}if(matcher&&"object"===typeof matcher){if(matcher===object){return!0}var prop;for(prop in matcher){var value=object[prop];if("undefined"===typeof value&&"function"===typeof object.getAttribute){value=object.getAttribute(prop)}if(null===matcher[prop]||"undefined"===typeof matcher[prop]){if(value!==matcher[prop]){return!1}}else if("undefined"===typeof value||!match(value,matcher[prop])){return!1}}return!0}throw new Error("Matcher was not a string, a number, a "+"function, a boolean or an object")};return{isArguments:isArguments,isElement:isElement,isDate:isDate,isNegZero:isNegZero,identical:identical,deepEqual:deepEqualCyclic,match:match,keys:keys}});