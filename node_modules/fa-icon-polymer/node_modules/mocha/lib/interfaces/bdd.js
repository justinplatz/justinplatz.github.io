'use strict';var Test=require("../test");module.exports=function(suite){var suites=[suite];suite.on("pre-require",function(context,file,mocha){var common=require("./common")(suites,context,mocha);context.before=common.before;context.after=common.after;context.beforeEach=common.beforeEach;context.afterEach=common.afterEach;context.run=mocha.options.delay&&common.runWithSuite(suite);context.describe=context.context=function(title,fn){return common.suite.create({title:title,file:file,fn:fn})};context.xdescribe=context.xcontext=context.describe.skip=function(title,fn){return common.suite.skip({title:title,file:file,fn:fn})};context.describe.only=function(title,fn){return common.suite.only({title:title,file:file,fn:fn})};context.it=context.specify=function(title,fn){var suite=suites[0];if(suite.isPending()){fn=null}var test=new Test(title,fn);test.file=file;suite.addTest(test);return test};context.it.only=function(title,fn){return common.test.only(mocha,context.it(title,fn))};context.xit=context.xspecify=context.it.skip=function(title){context.it(title)};context.it.retries=function(n){context.retries(n)}})};