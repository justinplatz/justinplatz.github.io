'use strict';var Base=require("./base"),JSON=require("json3");exports=module.exports=List;function List(runner){Base.call(this,runner);var self=this,total=runner.total;runner.on("start",function(){console.log(JSON.stringify(["start",{total:total}]))});runner.on("pass",function(test){console.log(JSON.stringify(["pass",clean(test)]))});runner.on("fail",function(test,err){test=clean(test);test.err=err.message;test.stack=err.stack||null;console.log(JSON.stringify(["fail",test]))});runner.on("end",function(){process.stdout.write(JSON.stringify(["end",self.stats]))})}function clean(test){return{title:test.title,fullTitle:test.fullTitle(),duration:test.duration,currentRetry:test.currentRetry()}}