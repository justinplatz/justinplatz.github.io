(function(){if("undefined"===typeof self||!self.Prism||!self.document){return}var clsReg=/\s*\bcommand-line\b\s*/;Prism.hooks.add("before-highlight",function(env){env.vars=env.vars||{};env.vars["command-line"]=env.vars["command-line"]||{};if(env.vars["command-line"].complete||!env.code){env.vars["command-line"].complete=!0;return}var pre=env.element.parentNode;if(!pre||!/pre/i.test(pre.nodeName)||!clsReg.test(pre.className)&&!clsReg.test(env.element.className)){env.vars["command-line"].complete=!0;return}if(env.element.querySelector(".command-line-prompt")){env.vars["command-line"].complete=!0;return}var codeLines=env.code.split("\n");env.vars["command-line"].numberOfLines=codeLines.length;env.vars["command-line"].outputLines=[];var outputSections=pre.getAttribute("data-output"),outputFilter=pre.getAttribute("data-filter-output");if(outputSections||""===outputSections){outputSections=outputSections.split(",");for(var i=0;i<outputSections.length;i++){var range=outputSections[i].split("-"),outputStart=parseInt(range[0],10),outputEnd=2===range.length?parseInt(range[1],10):outputStart;if(!isNaN(outputStart)&&!isNaN(outputEnd)){if(1>outputStart){outputStart=1}if(outputEnd>codeLines.length){outputEnd=codeLines.length}outputStart--;outputEnd--;for(var j=outputStart;j<=outputEnd;j++){env.vars["command-line"].outputLines[j]=codeLines[j];codeLines[j]=""}}}}else if(outputFilter){for(var i=0;i<codeLines.length;i++){if(0===codeLines[i].indexOf(outputFilter)){env.vars["command-line"].outputLines[i]=codeLines[i].slice(outputFilter.length);codeLines[i]=""}}}env.code=codeLines.join("\n")});Prism.hooks.add("before-insert",function(env){env.vars=env.vars||{};env.vars["command-line"]=env.vars["command-line"]||{};if(env.vars["command-line"].complete){return}for(var codeLines=env.highlightedCode.split("\n"),i=0;i<env.vars["command-line"].outputLines.length;i++){if(env.vars["command-line"].outputLines.hasOwnProperty(i)){codeLines[i]=env.vars["command-line"].outputLines[i]}}env.highlightedCode=codeLines.join("\n")});Prism.hooks.add("complete",function(env){env.vars=env.vars||{};env.vars["command-line"]=env.vars["command-line"]||{};if(env.vars["command-line"].complete){return}var pre=env.element.parentNode;if(clsReg.test(env.element.className)){env.element.className=env.element.className.replace(clsReg," ")}if(!clsReg.test(pre.className)){pre.className+=" command-line"}var getAttribute=function(key,defaultValue){return(pre.getAttribute(key)||defaultValue).replace(/"/g,"&quot")},promptLines=Array(env.vars["command-line"].numberOfLines+1),promptText=getAttribute("data-prompt","");if(""!==promptText){promptLines=promptLines.join("<span data-prompt=\""+promptText+"\"></span>")}else{var user=getAttribute("data-user","user"),host=getAttribute("data-host","localhost");promptLines=promptLines.join("<span data-user=\""+user+"\" data-host=\""+host+"\"></span>")}var prompt=document.createElement("span");prompt.className="command-line-prompt";prompt.innerHTML=promptLines;for(var i=0;i<env.vars["command-line"].outputLines.length;i++){if(env.vars["command-line"].outputLines.hasOwnProperty(i)){var node=prompt.children[i];node.removeAttribute("data-user");node.removeAttribute("data-host");node.removeAttribute("data-prompt")}}env.element.insertBefore(prompt,env.element.firstChild);env.vars["command-line"].complete=!0})})();