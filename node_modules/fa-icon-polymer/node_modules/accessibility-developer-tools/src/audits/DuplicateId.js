goog.require("axs.AuditRules");goog.require("axs.browserUtils");goog.require("axs.constants.Severity");goog.require("axs.utils");axs.AuditRules.addRule({name:"duplicateId",heading:"Any ID referred to via an IDREF must be unique in the DOM",url:"https://github.com/GoogleChrome/accessibility-developer-tools/wiki/Audit-Rules#ax_html_02",severity:axs.constants.Severity.SEVERE,opt_requires:{idRefs:!0},relevantElementMatcher:function(element,flags){if(flags.idrefs.length&&!flags.hidden){this.relatedElements.push({element:element,flags:flags})}if(element.hasAttribute("id")){return!0}return!1},isRelevant:function(element,flags){var id=element.id,level=flags.level;return this.relatedElements.some(function(related){var idrefs=related.flags.idrefs;return related.flags.level===level&&0<=idrefs.indexOf(id)})},test:function(element){var id=element.id,selector="[id='"+id.replace(/'/g,"\\'")+"']",elementsWithId=element.ownerDocument.querySelectorAll(selector);return 1<elementsWithId.length},code:"AX_HTML_02"});