module("LinkWithUnclearPurpose");test("a link with meaningful text is good",function(assert){var fixture=document.getElementById("qunit-fixture"),a=fixture.appendChild(document.createElement("a"));a.href="#main";a.textContent="Learn more about trout fishing";var config={ruleName:"linkWithUnclearPurpose",elements:[],expected:axs.constants.AuditResult.PASS};assert.runRule(config)});test("a link with an img with meaningful alt text is good",function(assert){var fixture=document.getElementById("qunit-fixture"),a=fixture.appendChild(document.createElement("a"));a.href="#main";var img=a.appendChild(document.createElement("img"));img.setAttribute("alt","Learn more about trout fishing");var config={ruleName:"linkWithUnclearPurpose",elements:[],expected:axs.constants.AuditResult.PASS};assert.runRule(config)});test("a link with an img with meaningless alt text is bad",function(assert){var fixture=document.getElementById("qunit-fixture"),a=fixture.appendChild(document.createElement("a"));a.href="#main";var img=a.appendChild(document.createElement("img"));img.setAttribute("alt","Click here!");var config={ruleName:"linkWithUnclearPurpose",elements:[a],expected:axs.constants.AuditResult.FAIL};assert.runRule(config)});test("a link with meaningful aria-label is good",function(assert){var fixture=document.getElementById("qunit-fixture");fixture.innerHTML="<style>a.trout::after{content: \"Learn more about trout fishing\"}</style>";var a=fixture.appendChild(document.createElement("a"));a.href="#main";a.className="trout";a.setAttribute("aria-label","Learn more about trout fishing");var config={ruleName:"linkWithUnclearPurpose",elements:[],expected:axs.constants.AuditResult.PASS};assert.runRule(config)});test("a link with meaningful aria-labelledby is good",function(assert){var fixture=document.getElementById("qunit-fixture");fixture.innerHTML="<style>a.trout::after{content: \"Learn more about trout fishing\"}</style>";var a=fixture.appendChild(document.createElement("a"));a.href="#main";a.className="trout";var label=fixture.appendChild(document.createElement("span"));label.textContent="Learn more about trout fishing";label.id="trout"+Date.now();a.setAttribute("aria-labelledby",label.id);var config={ruleName:"linkWithUnclearPurpose",elements:[],expected:axs.constants.AuditResult.PASS};assert.runRule(config)});test("a link without meaningful text is bad",function(assert){var fixture=document.getElementById("qunit-fixture"),a=fixture.appendChild(document.createElement("a"));a.href="#main";var config={ruleName:"linkWithUnclearPurpose",elements:[a],expected:axs.constants.AuditResult.FAIL},badLinks=["click here.","Click here!","Learn more.","this page","this link","here"];badLinks.forEach(function(text){a.textContent=text;assert.runRule(config)})});test("a link with bg image and meaningful aria-label is good",function(assert){var fixture=document.getElementById("qunit-fixture");fixture.innerHTML="<style>a.trout{background-image: url(\"/trout.png\"); display:block; height:1em}</style>";var a=fixture.appendChild(document.createElement("a"));a.href="#main";a.className="trout";a.setAttribute("aria-label","Learn more about trout fishing");var config={ruleName:"linkWithUnclearPurpose",elements:[],expected:axs.constants.AuditResult.PASS};assert.runRule(config)});test("a hidden link should not be run against the audit",function(assert){var fixture=document.getElementById("qunit-fixture"),a=fixture.appendChild(document.createElement("a"));a.hidden=!0;a.href="#main";a.textContent="Learn more about trout fishing";var config={ruleName:"linkWithUnclearPurpose",expected:axs.constants.AuditResult.NA};assert.runRule(config)});test("an anchor tag without href attribute is ignored",function(assert){var fixture=document.getElementById("qunit-fixture");fixture.appendChild(document.createElement("a"));var config={ruleName:"linkWithUnclearPurpose",expected:axs.constants.AuditResult.NA};assert.runRule(config)});