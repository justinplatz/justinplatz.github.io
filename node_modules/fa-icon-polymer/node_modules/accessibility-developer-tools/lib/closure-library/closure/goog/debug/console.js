goog.provide("goog.debug.Console");goog.require("goog.debug.LogManager");goog.require("goog.debug.Logger");goog.require("goog.debug.TextFormatter");goog.debug.Console=function(){this.publishHandler_=goog.bind(this.addLogRecord,this);this.formatter_=new goog.debug.TextFormatter;this.formatter_.showAbsoluteTime=!1;this.formatter_.showExceptionText=!1;this.formatter_.appendNewline=!1;this.isCapturing_=!1;this.logBuffer_="";this.filteredLoggers_={}};goog.debug.Console.prototype.getFormatter=function(){return this.formatter_};goog.debug.Console.prototype.setCapturing=function(capturing){if(capturing==this.isCapturing_){return}var rootLogger=goog.debug.LogManager.getRoot();if(capturing){rootLogger.addHandler(this.publishHandler_)}else{rootLogger.removeHandler(this.publishHandler_);this.logBuffer=""}this.isCapturing_=capturing};goog.debug.Console.prototype.addLogRecord=function(logRecord){if(this.filteredLoggers_[logRecord.getLoggerName()]){return}var record=this.formatter_.formatRecord(logRecord),console=goog.debug.Console.console_;if(console){switch(logRecord.getLevel()){case goog.debug.Logger.Level.SHOUT:goog.debug.Console.logToConsole_(console,"info",record);break;case goog.debug.Logger.Level.SEVERE:goog.debug.Console.logToConsole_(console,"error",record);break;case goog.debug.Logger.Level.WARNING:goog.debug.Console.logToConsole_(console,"warn",record);break;default:goog.debug.Console.logToConsole_(console,"debug",record);break;}}else{this.logBuffer_+=record}};goog.debug.Console.prototype.addFilter=function(loggerName){this.filteredLoggers_[loggerName]=!0};goog.debug.Console.prototype.removeFilter=function(loggerName){delete this.filteredLoggers_[loggerName]};goog.debug.Console.instance=null;goog.debug.Console.console_=goog.global.console;goog.debug.Console.setConsole=function(console){goog.debug.Console.console_=console};goog.debug.Console.autoInstall=function(){if(!goog.debug.Console.instance){goog.debug.Console.instance=new goog.debug.Console}if(goog.global.location&&-1!=goog.global.location.href.indexOf("Debug=true")){goog.debug.Console.instance.setCapturing(!0)}};goog.debug.Console.show=function(){alert(goog.debug.Console.instance.logBuffer_)};goog.debug.Console.logToConsole_=function(console,fnName,record){if(console[fnName]){console[fnName](record)}else{console.log(record)}};