goog.provide("goog.math.BezierTest");goog.setTestOnly("goog.math.BezierTest");goog.require("goog.math");goog.require("goog.math.Bezier");goog.require("goog.math.Coordinate");goog.require("goog.testing.jsunit");function testEquals(){var input=new goog.math.Bezier(1,2,3,4,5,6,7,8);assert(input.equals(input))}function testClone(){var input=new goog.math.Bezier(1,2,3,4,5,6,7,8);assertNotEquals("Clone returns a new object",input,input.clone());assert("Contents of clone match original",input.equals(input.clone()))}function testFlip(){var input=new goog.math.Bezier(1,1,2,2,3,3,4,4),compare=new goog.math.Bezier(4,4,3,3,2,2,1,1),flipped=input.clone();flipped.flip();assert("Flipped behaves as expected",compare.equals(flipped));flipped.flip();assert("Flipping twice gives original",input.equals(flipped))}function testGetPoint(){var input=new goog.math.Bezier(0,1,1,2,2,3,3,4);assert(goog.math.Coordinate.equals(input.getPoint(0),new goog.math.Coordinate(0,1)));assert(goog.math.Coordinate.equals(input.getPoint(1),new goog.math.Coordinate(3,4)));assert(goog.math.Coordinate.equals(input.getPoint(.5),new goog.math.Coordinate(1.5,2.5)))}function testGetPointX(){var input=new goog.math.Bezier(0,1,1,2,2,3,3,4);assert(goog.math.nearlyEquals(input.getPointX(0),0));assert(goog.math.nearlyEquals(input.getPointX(1),3));assert(goog.math.nearlyEquals(input.getPointX(.5),1.5))}function testGetPointY(){var input=new goog.math.Bezier(0,1,1,2,2,3,3,4);assert(goog.math.nearlyEquals(input.getPointY(0),1));assert(goog.math.nearlyEquals(input.getPointY(1),4));assert(goog.math.nearlyEquals(input.getPointY(.5),2.5))}function testSubdivide(){var input=new goog.math.Bezier(0,1,1,2,2,3,3,4);input.subdivide(1/3,2/3);assert(goog.math.nearlyEquals(1,input.x0));assert(goog.math.nearlyEquals(2,input.y0));assert(goog.math.nearlyEquals(2,input.x3));assert(goog.math.nearlyEquals(3,input.y3))}function testSolvePositionFromXValue(){var eps=1e-6,bezier=new goog.math.Bezier(0,0,.25,.1,.25,1,1,1),pt=bezier.getPoint(.5);assertRoughlyEquals(.3125,pt.x,eps);assertRoughlyEquals(.5375,pt.y,eps);assertRoughlyEquals(.321,bezier.solvePositionFromXValue(bezier.getPoint(.321).x),eps)}function testSolveYValueFromXValue(){var eps=1e-6,bezier=new goog.math.Bezier(1,1,.75,.9,.75,0,0,0);assertRoughlyEquals(.024374631,bezier.solveYValueFromXValue(.2),eps);assertRoughlyEquals(.317459494,bezier.solveYValueFromXValue(.6),eps);assertRoughlyEquals(.905205002,bezier.solveYValueFromXValue(.9),eps);bezier=new goog.math.Bezier(0,0,.75,0,.75,.9,1,1);assertRoughlyEquals(.024374631,bezier.solveYValueFromXValue(.2),eps);assertRoughlyEquals(.317459494,bezier.solveYValueFromXValue(.6),eps);assertRoughlyEquals(.905205002,bezier.solveYValueFromXValue(.9),eps);bezier=new goog.math.Bezier(0,0,0,0,.58,1,1,1);assertRoughlyEquals(.308366667,bezier.solveYValueFromXValue(.2),eps);assertRoughlyEquals(.785139061,bezier.solveYValueFromXValue(.6),eps);assertRoughlyEquals(.982973389,bezier.solveYValueFromXValue(.9),eps)}