goog.provide("goog.ui.CustomButtonRenderer");goog.require("goog.a11y.aria.Role");goog.require("goog.asserts");goog.require("goog.dom.NodeType");goog.require("goog.dom.TagName");goog.require("goog.dom.classlist");goog.require("goog.string");goog.require("goog.ui.ButtonRenderer");goog.require("goog.ui.INLINE_BLOCK_CLASSNAME");goog.ui.CustomButtonRenderer=function(){goog.ui.ButtonRenderer.call(this)};goog.inherits(goog.ui.CustomButtonRenderer,goog.ui.ButtonRenderer);goog.addSingletonGetter(goog.ui.CustomButtonRenderer);goog.ui.CustomButtonRenderer.CSS_CLASS=goog.getCssName("goog-custom-button");goog.ui.CustomButtonRenderer.prototype.createDom=function(control){var button=control,classNames=this.getClassNames(button),attributes={class:goog.ui.INLINE_BLOCK_CLASSNAME+" "+classNames.join(" ")},buttonElement=button.getDomHelper().createDom(goog.dom.TagName.DIV,attributes,this.createButton(button.getContent(),button.getDomHelper()));this.setTooltip(buttonElement,button.getTooltip());return buttonElement};goog.ui.CustomButtonRenderer.prototype.getAriaRole=function(){return goog.a11y.aria.Role.BUTTON};goog.ui.CustomButtonRenderer.prototype.getContentElement=function(element){return element&&element.firstChild&&element.firstChild.firstChild};goog.ui.CustomButtonRenderer.prototype.createButton=function(content,dom){return dom.createDom(goog.dom.TagName.DIV,goog.ui.INLINE_BLOCK_CLASSNAME+" "+goog.getCssName(this.getCssClass(),"outer-box"),dom.createDom(goog.dom.TagName.DIV,goog.ui.INLINE_BLOCK_CLASSNAME+" "+goog.getCssName(this.getCssClass(),"inner-box"),content))};goog.ui.CustomButtonRenderer.prototype.canDecorate=function(element){return element.tagName==goog.dom.TagName.DIV};goog.ui.CustomButtonRenderer.prototype.hasBoxStructure=function(button,element){var outer=button.getDomHelper().getFirstElementChild(element),outerClassName=goog.getCssName(this.getCssClass(),"outer-box");if(outer&&goog.dom.classlist.contains(outer,outerClassName)){var inner=button.getDomHelper().getFirstElementChild(outer),innerClassName=goog.getCssName(this.getCssClass(),"inner-box");if(inner&&goog.dom.classlist.contains(inner,innerClassName)){return!0}}return!1};goog.ui.CustomButtonRenderer.prototype.decorate=function(control,element){goog.asserts.assert(element);var button=control;goog.ui.CustomButtonRenderer.trimTextNodes_(element,!0);goog.ui.CustomButtonRenderer.trimTextNodes_(element,!1);if(!this.hasBoxStructure(button,element)){element.appendChild(this.createButton(element.childNodes,button.getDomHelper()))}goog.dom.classlist.addAll(element,[goog.ui.INLINE_BLOCK_CLASSNAME,this.getCssClass()]);return goog.ui.CustomButtonRenderer.superClass_.decorate.call(this,button,element)};goog.ui.CustomButtonRenderer.prototype.getCssClass=function(){return goog.ui.CustomButtonRenderer.CSS_CLASS};goog.ui.CustomButtonRenderer.trimTextNodes_=function(element,fromStart){if(element){var node=fromStart?element.firstChild:element.lastChild,next;while(node&&node.parentNode==element){next=fromStart?node.nextSibling:node.previousSibling;if(node.nodeType==goog.dom.NodeType.TEXT){var text=node.nodeValue;if(""==goog.string.trim(text)){element.removeChild(node)}else{node.nodeValue=fromStart?goog.string.trimLeft(text):goog.string.trimRight(text);break}}else{break}node=next}}};