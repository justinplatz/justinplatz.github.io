goog.provide("goog.demos.editor.HelloWorldDialogTest");goog.setTestOnly("goog.demos.editor.HelloWorldDialogTest");goog.require("goog.demos.editor.HelloWorldDialog");goog.require("goog.demos.editor.HelloWorldDialog.OkEvent");goog.require("goog.dom.DomHelper");goog.require("goog.events.EventHandler");goog.require("goog.testing.LooseMock");goog.require("goog.testing.events");goog.require("goog.testing.jsunit");goog.require("goog.testing.mockmatchers.ArgumentMatcher");goog.require("goog.ui.editor.AbstractDialog.EventType");var dialog,mockOkHandler,CUSTOM_MESSAGE="Hello, cruel world...";function setUp(){mockOkHandler=new goog.testing.LooseMock(goog.events.EventHandler)}function tearDown(){dialog.dispose()}function createAndShow(){dialog=new goog.demos.editor.HelloWorldDialog(new goog.dom.DomHelper());dialog.addEventListener(goog.ui.editor.AbstractDialog.EventType.OK,mockOkHandler);dialog.show()}function expectOk(message){mockOkHandler.handleEvent(new goog.testing.mockmatchers.ArgumentMatcher(function(arg){return arg.type==goog.ui.editor.AbstractDialog.EventType.OK&&arg.message==message}))}function testShow(){mockOkHandler.$replay();createAndShow();assertEquals("Input field has incorrect sample text","Hello, world!",dialog.input_.value);mockOkHandler.$verify()}function testOk(){expectOk(CUSTOM_MESSAGE);mockOkHandler.$replay();createAndShow();dialog.input_.value=CUSTOM_MESSAGE;goog.testing.events.fireClickSequence(dialog.getOkButtonElement());mockOkHandler.$verify()}