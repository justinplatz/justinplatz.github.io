goog.provide("goog.urlTest");goog.setTestOnly("goog.urlTest");goog.require("goog.fs.url");goog.require("goog.testing.PropertyReplacer");goog.require("goog.testing.jsunit");var stubs=new goog.testing.PropertyReplacer;function testBrowserSupportsObjectUrls(){stubs.remove(goog.global,"URL");stubs.remove(goog.global,"webkitURL");stubs.remove(goog.global,"createObjectURL");assertFalse(goog.fs.url.browserSupportsObjectUrls());try{goog.fs.url.createObjectUrl();fail()}catch(e){assertEquals("This browser doesn't seem to support blob URLs",e.message)}var objectUrl={};function createObjectURL(){return objectUrl}stubs.set(goog.global,"createObjectURL",createObjectURL);assertTrue(goog.fs.url.browserSupportsObjectUrls());assertEquals(objectUrl,goog.fs.url.createObjectUrl());stubs.reset()}