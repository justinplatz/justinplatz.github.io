goog.provide("goog.ui.ac.RichRemoteArrayMatcher");goog.require("goog.dom");goog.require("goog.ui.ac.RemoteArrayMatcher");goog.ui.ac.RichRemoteArrayMatcher=function(url,opt_noSimilar){goog.ui.ac.RemoteArrayMatcher.call(this,url,opt_noSimilar);this.rowFilter_=null};goog.inherits(goog.ui.ac.RichRemoteArrayMatcher,goog.ui.ac.RemoteArrayMatcher);goog.ui.ac.RichRemoteArrayMatcher.prototype.setRowFilter=function(rowFilter){this.rowFilter_=rowFilter};goog.ui.ac.RichRemoteArrayMatcher.prototype.requestMatchingRows=function(token,maxMatches,matchHandler){var myMatchHandler=goog.bind(function(token,matches){try{for(var rows=[],i=0,func;i<matches.length;i++){func=eval(matches[i][0]);for(var j=1,richRow;j<matches[i].length;j++){richRow=func(matches[i][j]);rows.push(richRow);if("undefined"==typeof richRow.render){richRow.render=function(node,token){goog.dom.setTextContent(node,richRow.toString())}}if("undefined"==typeof richRow.select){richRow.select=function(target){target.value=richRow.toString()}}}}if(this.rowFilter_){rows=this.rowFilter_(rows)}matchHandler(token,rows)}catch(exception){matchHandler(token,[])}},this);goog.ui.ac.RichRemoteArrayMatcher.superClass_.requestMatchingRows.call(this,token,maxMatches,myMatchHandler)};