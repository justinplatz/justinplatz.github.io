goog.provide("goog.soy.testHelper");goog.setTestOnly("goog.soy.testHelper");goog.require("goog.dom");goog.require("goog.dom.TagName");goog.require("goog.i18n.bidi.Dir");goog.require("goog.soy.data.SanitizedContent");goog.require("goog.soy.data.SanitizedContentKind");goog.require("goog.string");goog.require("goog.userAgent");function SanitizedContentSubclass(content,kind){this.content=content;this.contentKind=kind}goog.inherits(SanitizedContentSubclass,goog.soy.data.SanitizedContent);function makeSanitizedContent(content,kind){return new SanitizedContentSubclass(content,kind)}var example={textNodeTemplate:function(data,opt_sb,opt_injectedData){assertNotNull(data);assertNotUndefined(data);return goog.string.htmlEscape(data.name)},singleRootTemplate:function(data,opt_sb,opt_injectedData){assertNotNull(data);assertNotUndefined(data);return"<span>"+goog.string.htmlEscape(data.name)+"</span>"},multiRootTemplate:function(data,opt_sb,opt_injectedData){assertNotNull(data);assertNotUndefined(data);return"<div>Hello</div><div>"+goog.string.htmlEscape(data.name)+"</div>"},injectedDataTemplate:function(data,opt_sb,opt_injectedData){assertNotNull(data);assertNotUndefined(data);return goog.string.htmlEscape(data.name)+goog.string.htmlEscape(opt_injectedData.name)},noDataTemplate:function(data,opt_sb,opt_injectedData){assertNotNull(data);assertNotUndefined(data);return"<div>Hello</div>"},sanitizedHtmlTemplate:function(data,opt_sb,opt_injectedData){var sanitized=makeSanitizedContent("Hello <b>World</b>",goog.soy.data.SanitizedContentKind.HTML);sanitized.contentDir=goog.i18n.bidi.Dir.LTR;return sanitized},sanitizedHtmlAttributesTemplate:function(data,opt_sb,opt_injectedData){return makeSanitizedContent("foo=\"bar\"",goog.soy.data.SanitizedContentKind.ATTRIBUTES)},sanitizedCssTemplate:function(data,opt_sb,opt_injectedData){return makeSanitizedContent("display:none",goog.soy.data.SanitizedContentKind.CSS)},unsanitizedTextTemplate:function(data,opt_sb,opt_injectedData){return makeSanitizedContent("I <3 Puppies & Kittens",goog.soy.data.SanitizedContentKind.TEXT)},templateSpoofingSanitizedContentString:function(data,opt_sb,opt_injectedData){return makeSanitizedContent("Hello World",goog.soy.data.SanitizedContentKind.HTML.toString())},tableRowTemplate:function(data,opt_sb,opt_injectedData){return"<tr><td></td></tr>"},colGroupTemplateCaps:function(data,opt_sb,opt_injectedData){return"<COLGROUP></COLGROUP>"}};function fragmentToHtml(fragment){var testDiv=goog.dom.createElement(goog.dom.TagName.DIV);testDiv.appendChild(fragment);return elementToInnerHtml(testDiv)}function elementToInnerHtml(elem){var innerHtml=elem.innerHTML;if(goog.userAgent.IE){innerHtml=innerHtml.replace(/DIV/g,"div").replace(/\s/g,"")}return innerHtml}