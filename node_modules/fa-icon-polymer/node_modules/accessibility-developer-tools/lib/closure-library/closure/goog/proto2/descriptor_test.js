goog.provide("goog.proto2.DescriptorTest");goog.setTestOnly("goog.proto2.DescriptorTest");goog.require("goog.proto2.Descriptor");goog.require("goog.proto2.Message");goog.require("goog.testing.jsunit");function testDescriptorConstruction(){var messageType=function(){},descriptor=new goog.proto2.Descriptor(messageType,{name:"test",fullName:"this.is.a.test"},[]);assertEquals("test",descriptor.getName());assertEquals("this.is.a.test",descriptor.getFullName());assertEquals(null,descriptor.getContainingType())}function testParentDescriptor(){var parentType=function(){},messageType=function(){},parentDescriptor=new goog.proto2.Descriptor(parentType,{name:"parent",fullName:"this.is.a.parent"},[]);parentType.getDescriptor=function(){return parentDescriptor};var descriptor=new goog.proto2.Descriptor(messageType,{name:"test",fullName:"this.is.a.test",containingType:parentType},[]);assertEquals(parentDescriptor,descriptor.getContainingType())}function testStaticGetDescriptorCachesResults(){var messageType=function(){};messageType.prototype.getDescriptor=function(){if(!messageType.descriptor_){var descriptorObj={0:{name:"test",fullName:"this.is.a.test"}};messageType.descriptor_=goog.proto2.Message.createDescriptor(messageType,descriptorObj)}return messageType.descriptor_};messageType.getDescriptor=messageType.prototype.getDescriptor;var descriptor=messageType.getDescriptor();assertEquals(descriptor,messageType.getDescriptor())}