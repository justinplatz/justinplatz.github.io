goog.provide("goog.events.MouseWheelEvent");goog.provide("goog.events.MouseWheelHandler");goog.provide("goog.events.MouseWheelHandler.EventType");goog.require("goog.dom");goog.require("goog.events");goog.require("goog.events.BrowserEvent");goog.require("goog.events.EventTarget");goog.require("goog.math");goog.require("goog.style");goog.require("goog.userAgent");goog.events.MouseWheelHandler=function(element,opt_capture){goog.events.EventTarget.call(this);this.element_=element;var rtlElement=goog.dom.isElement(this.element_)?this.element_:this.element_?this.element_.body:null;this.isRtl_=!!rtlElement&&goog.style.isRightToLeft(rtlElement);var type=goog.userAgent.GECKO?"DOMMouseScroll":"mousewheel";this.listenKey_=goog.events.listen(this.element_,type,this,opt_capture)};goog.inherits(goog.events.MouseWheelHandler,goog.events.EventTarget);goog.events.MouseWheelHandler.EventType={MOUSEWHEEL:"mousewheel"};goog.events.MouseWheelHandler.prototype.maxDeltaX_;goog.events.MouseWheelHandler.prototype.maxDeltaY_;goog.events.MouseWheelHandler.prototype.setMaxDeltaX=function(maxDeltaX){this.maxDeltaX_=maxDeltaX};goog.events.MouseWheelHandler.prototype.setMaxDeltaY=function(maxDeltaY){this.maxDeltaY_=maxDeltaY};goog.events.MouseWheelHandler.prototype.handleEvent=function(e){var deltaX=0,deltaY=0,detail=0,be=e.getBrowserEvent();if("mousewheel"==be.type){var wheelDeltaScaleFactor=40;detail=goog.events.MouseWheelHandler.smartScale_(-be.wheelDelta,wheelDeltaScaleFactor);if(goog.isDef(be.wheelDeltaX)){deltaX=goog.events.MouseWheelHandler.smartScale_(-be.wheelDeltaX,wheelDeltaScaleFactor);deltaY=goog.events.MouseWheelHandler.smartScale_(-be.wheelDeltaY,wheelDeltaScaleFactor)}else{deltaY=detail}}else{detail=be.detail;if(100<detail){detail=3}else if(-100>detail){detail=-3}if(goog.isDef(be.axis)&&be.axis===be.HORIZONTAL_AXIS){deltaX=detail}else{deltaY=detail}}if(goog.isNumber(this.maxDeltaX_)){deltaX=goog.math.clamp(deltaX,-this.maxDeltaX_,this.maxDeltaX_)}if(goog.isNumber(this.maxDeltaY_)){deltaY=goog.math.clamp(deltaY,-this.maxDeltaY_,this.maxDeltaY_)}if(this.isRtl_){deltaX=-deltaX}var newEvent=new goog.events.MouseWheelEvent(detail,be,deltaX,deltaY);this.dispatchEvent(newEvent)};goog.events.MouseWheelHandler.smartScale_=function(mouseWheelDelta,scaleFactor){if(goog.userAgent.WEBKIT&&(goog.userAgent.MAC||goog.userAgent.LINUX)&&0!=mouseWheelDelta%scaleFactor){return mouseWheelDelta}else{return mouseWheelDelta/scaleFactor}};goog.events.MouseWheelHandler.prototype.disposeInternal=function(){goog.events.MouseWheelHandler.superClass_.disposeInternal.call(this);goog.events.unlistenByKey(this.listenKey_);this.listenKey_=null};goog.events.MouseWheelEvent=function(detail,browserEvent,deltaX,deltaY){goog.events.BrowserEvent.call(this,browserEvent);this.type=goog.events.MouseWheelHandler.EventType.MOUSEWHEEL;this.detail=detail;this.deltaX=deltaX;this.deltaY=deltaY};goog.inherits(goog.events.MouseWheelEvent,goog.events.BrowserEvent);