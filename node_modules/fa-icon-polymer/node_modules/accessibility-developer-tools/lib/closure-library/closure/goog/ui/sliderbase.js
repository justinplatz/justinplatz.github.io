goog.provide("goog.ui.SliderBase");goog.provide("goog.ui.SliderBase.AnimationFactory");goog.provide("goog.ui.SliderBase.Orientation");goog.require("goog.Timer");goog.require("goog.a11y.aria");goog.require("goog.a11y.aria.Role");goog.require("goog.a11y.aria.State");goog.require("goog.array");goog.require("goog.asserts");goog.require("goog.dom");goog.require("goog.dom.TagName");goog.require("goog.dom.classlist");goog.require("goog.events");goog.require("goog.events.EventType");goog.require("goog.events.KeyCodes");goog.require("goog.events.KeyHandler");goog.require("goog.events.MouseWheelHandler");goog.require("goog.functions");goog.require("goog.fx.AnimationParallelQueue");goog.require("goog.fx.Dragger");goog.require("goog.fx.Transition");goog.require("goog.fx.dom.ResizeHeight");goog.require("goog.fx.dom.ResizeWidth");goog.require("goog.fx.dom.Slide");goog.require("goog.math");goog.require("goog.math.Coordinate");goog.require("goog.style");goog.require("goog.style.bidi");goog.require("goog.ui.Component");goog.require("goog.ui.RangeModel");goog.ui.SliderBase=function(opt_domHelper,opt_labelFn){goog.ui.Component.call(this,opt_domHelper);this.additionalAnimations_=null;this.rangeModel=new goog.ui.RangeModel;this.labelFn_=opt_labelFn||goog.functions.NULL;goog.events.listen(this.rangeModel,goog.ui.Component.EventType.CHANGE,this.handleRangeModelChange,!1,this)};goog.inherits(goog.ui.SliderBase,goog.ui.Component);goog.tagUnsealableClass(goog.ui.SliderBase);goog.ui.SliderBase.EventType={DRAG_VALUE_START:goog.events.getUniqueId("dragvaluestart"),DRAG_VALUE_END:goog.events.getUniqueId("dragvalueend"),DRAG_EXTENT_START:goog.events.getUniqueId("dragextentstart"),DRAG_EXTENT_END:goog.events.getUniqueId("dragextentend"),DRAG_START:goog.events.getUniqueId("dragstart"),DRAG_END:goog.events.getUniqueId("dragend"),ANIMATION_END:goog.events.getUniqueId("animationend")};goog.ui.SliderBase.Orientation={VERTICAL:"vertical",HORIZONTAL:"horizontal"};goog.ui.SliderBase.prototype.orientation_=goog.ui.SliderBase.Orientation.HORIZONTAL;goog.ui.SliderBase.prototype.currentAnimation_;goog.ui.SliderBase.prototype.incTimer_;goog.ui.SliderBase.prototype.incrementing_;goog.ui.SliderBase.prototype.lastMousePosition_;goog.ui.SliderBase.MOUSE_DOWN_INCREMENT_INTERVAL_=200;goog.ui.SliderBase.ANIMATION_INTERVAL_=100;goog.ui.SliderBase.prototype.valueThumb;goog.ui.SliderBase.prototype.extentThumb;goog.ui.SliderBase.prototype.rangeHighlight;goog.ui.SliderBase.prototype.thumbToMove_;goog.ui.SliderBase.prototype.keyHandler_;goog.ui.SliderBase.prototype.mouseWheelHandler_;goog.ui.SliderBase.prototype.valueDragger_;goog.ui.SliderBase.prototype.extentDragger_;goog.ui.SliderBase.prototype.isAnimating_=!1;goog.ui.SliderBase.prototype.moveToPointEnabled_=!1;goog.ui.SliderBase.prototype.blockIncrement_=10;goog.ui.SliderBase.prototype.minExtent_=0;goog.ui.SliderBase.prototype.isHandleMouseWheel_=!0;goog.ui.SliderBase.prototype.mouseDownTime_=0;goog.ui.SliderBase.prototype.MOUSE_DOWN_DELAY_=1e3;goog.ui.SliderBase.prototype.enabled_=!0;goog.ui.SliderBase.prototype.flipForRtl_=!1;goog.ui.SliderBase.prototype.enableFlipForRtl=function(flipForRtl){this.flipForRtl_=flipForRtl};goog.ui.SliderBase.prototype.getCssClass=goog.abstractMethod;goog.ui.SliderBase.prototype.createDom=function(){goog.ui.SliderBase.superClass_.createDom.call(this);var element=this.getDomHelper().createDom(goog.dom.TagName.DIV,this.getCssClass(this.orientation_));this.decorateInternal(element)};goog.ui.SliderBase.prototype.createThumbs=goog.abstractMethod;goog.ui.SliderBase.SLIDER_DRAGGING_CSS_CLASS_=goog.getCssName("goog-slider-dragging");goog.ui.SliderBase.THUMB_DRAGGING_CSS_CLASS_=goog.getCssName("goog-slider-thumb-dragging");goog.ui.SliderBase.DISABLED_CSS_CLASS_=goog.getCssName("goog-slider-disabled");goog.ui.SliderBase.prototype.decorateInternal=function(element){goog.ui.SliderBase.superClass_.decorateInternal.call(this,element);goog.asserts.assert(element);goog.dom.classlist.add(element,this.getCssClass(this.orientation_));this.createThumbs();this.setAriaRoles()};goog.ui.SliderBase.prototype.enterDocument=function(){goog.ui.SliderBase.superClass_.enterDocument.call(this);this.valueDragger_=new goog.fx.Dragger(this.valueThumb);this.extentDragger_=new goog.fx.Dragger(this.extentThumb);this.valueDragger_.enableRightPositioningForRtl(this.flipForRtl_);this.extentDragger_.enableRightPositioningForRtl(this.flipForRtl_);this.valueDragger_.defaultAction=this.extentDragger_.defaultAction=goog.nullFunction;this.keyHandler_=new goog.events.KeyHandler(this.getElement());this.enableEventHandlers_(!0);this.getElement().tabIndex=0;this.updateUi_()};goog.ui.SliderBase.prototype.enableEventHandlers_=function(enable){if(enable){this.getHandler().listen(this.valueDragger_,goog.fx.Dragger.EventType.BEFOREDRAG,this.handleBeforeDrag_).listen(this.extentDragger_,goog.fx.Dragger.EventType.BEFOREDRAG,this.handleBeforeDrag_).listen(this.valueDragger_,[goog.fx.Dragger.EventType.START,goog.fx.Dragger.EventType.END],this.handleThumbDragStartEnd_).listen(this.extentDragger_,[goog.fx.Dragger.EventType.START,goog.fx.Dragger.EventType.END],this.handleThumbDragStartEnd_).listen(this.keyHandler_,goog.events.KeyHandler.EventType.KEY,this.handleKeyDown_).listen(this.getElement(),goog.events.EventType.CLICK,this.handleMouseDownAndClick_).listen(this.getElement(),goog.events.EventType.MOUSEDOWN,this.handleMouseDownAndClick_);if(this.isHandleMouseWheel()){this.enableMouseWheelHandling_(!0)}}else{this.getHandler().unlisten(this.valueDragger_,goog.fx.Dragger.EventType.BEFOREDRAG,this.handleBeforeDrag_).unlisten(this.extentDragger_,goog.fx.Dragger.EventType.BEFOREDRAG,this.handleBeforeDrag_).unlisten(this.valueDragger_,[goog.fx.Dragger.EventType.START,goog.fx.Dragger.EventType.END],this.handleThumbDragStartEnd_).unlisten(this.extentDragger_,[goog.fx.Dragger.EventType.START,goog.fx.Dragger.EventType.END],this.handleThumbDragStartEnd_).unlisten(this.keyHandler_,goog.events.KeyHandler.EventType.KEY,this.handleKeyDown_).unlisten(this.getElement(),goog.events.EventType.CLICK,this.handleMouseDownAndClick_).unlisten(this.getElement(),goog.events.EventType.MOUSEDOWN,this.handleMouseDownAndClick_);if(this.isHandleMouseWheel()){this.enableMouseWheelHandling_(!1)}}};goog.ui.SliderBase.prototype.exitDocument=function(){goog.ui.SliderBase.base(this,"exitDocument");goog.disposeAll(this.valueDragger_,this.extentDragger_,this.keyHandler_,this.mouseWheelHandler_)};goog.ui.SliderBase.prototype.handleBeforeDrag_=function(e){var _Mathmin=Math.min,_Mathmax=Math.max,thumbToDrag=e.dragger==this.valueDragger_?this.valueThumb:this.extentThumb,value;if(this.orientation_==goog.ui.SliderBase.Orientation.VERTICAL){var availHeight=this.getElement().clientHeight-thumbToDrag.offsetHeight;value=(availHeight-e.top)/availHeight*(this.getMaximum()-this.getMinimum())+this.getMinimum()}else{var availWidth=this.getElement().clientWidth-thumbToDrag.offsetWidth;value=e.left/availWidth*(this.getMaximum()-this.getMinimum())+this.getMinimum()}if(e.dragger==this.valueDragger_){value=_Mathmin(_Mathmax(value,this.getMinimum()),this.getValue()+this.getExtent())}else{value=_Mathmin(_Mathmax(value,this.getValue()),this.getMaximum())}this.setThumbPosition_(thumbToDrag,value)};goog.ui.SliderBase.prototype.handleThumbDragStartEnd_=function(e){var isDragStart=e.type==goog.fx.Dragger.EventType.START;goog.dom.classlist.enable(goog.asserts.assertElement(this.getElement()),goog.ui.SliderBase.SLIDER_DRAGGING_CSS_CLASS_,isDragStart);goog.dom.classlist.enable(goog.asserts.assertElement(e.target.handle),goog.ui.SliderBase.THUMB_DRAGGING_CSS_CLASS_,isDragStart);var isValueDragger=e.dragger==this.valueDragger_;if(isDragStart){this.dispatchEvent(goog.ui.SliderBase.EventType.DRAG_START);this.dispatchEvent(isValueDragger?goog.ui.SliderBase.EventType.DRAG_VALUE_START:goog.ui.SliderBase.EventType.DRAG_EXTENT_START)}else{this.dispatchEvent(goog.ui.SliderBase.EventType.DRAG_END);this.dispatchEvent(isValueDragger?goog.ui.SliderBase.EventType.DRAG_VALUE_END:goog.ui.SliderBase.EventType.DRAG_EXTENT_END)}};goog.ui.SliderBase.prototype.handleKeyDown_=function(e){var handled=!0;switch(e.keyCode){case goog.events.KeyCodes.HOME:this.animatedSetValue(this.getMinimum());break;case goog.events.KeyCodes.END:this.animatedSetValue(this.getMaximum());break;case goog.events.KeyCodes.PAGE_UP:this.moveThumbs(this.getBlockIncrement());break;case goog.events.KeyCodes.PAGE_DOWN:this.moveThumbs(-this.getBlockIncrement());break;case goog.events.KeyCodes.LEFT:var sign=this.flipForRtl_&&this.isRightToLeft()?1:-1;this.moveThumbs(e.shiftKey?sign*this.getBlockIncrement():sign*this.getUnitIncrement());break;case goog.events.KeyCodes.DOWN:this.moveThumbs(e.shiftKey?-this.getBlockIncrement():-this.getUnitIncrement());break;case goog.events.KeyCodes.RIGHT:var sign=this.flipForRtl_&&this.isRightToLeft()?-1:1;this.moveThumbs(e.shiftKey?sign*this.getBlockIncrement():sign*this.getUnitIncrement());break;case goog.events.KeyCodes.UP:this.moveThumbs(e.shiftKey?this.getBlockIncrement():this.getUnitIncrement());break;default:handled=!1;}if(handled){e.preventDefault()}};goog.ui.SliderBase.prototype.handleMouseDownAndClick_=function(e){if(this.getElement().focus){this.getElement().focus()}var target=e.target;if(!goog.dom.contains(this.valueThumb,target)&&!goog.dom.contains(this.extentThumb,target)){var isClick=e.type==goog.events.EventType.CLICK;if(isClick&&goog.now()<this.mouseDownTime_+this.MOUSE_DOWN_DELAY_){return}if(!isClick){this.mouseDownTime_=goog.now()}if(this.moveToPointEnabled_){this.animatedSetValue(this.getValueFromMousePosition(e))}else{this.startBlockIncrementing_(e)}}};goog.ui.SliderBase.prototype.handleMouseWheel_=function(e){var direction=0<e.detail?-1:1;this.moveThumbs(direction*this.getUnitIncrement());e.preventDefault()};goog.ui.SliderBase.prototype.startBlockIncrementing_=function(e){this.storeMousePos_(e);this.thumbToMove_=this.getClosestThumb_(this.getValueFromMousePosition(e));if(this.orientation_==goog.ui.SliderBase.Orientation.VERTICAL){this.incrementing_=this.lastMousePosition_<this.thumbToMove_.offsetTop}else{this.incrementing_=this.lastMousePosition_>this.getOffsetStart_(this.thumbToMove_)+this.thumbToMove_.offsetWidth}var doc=goog.dom.getOwnerDocument(this.getElement());this.getHandler().listen(doc,goog.events.EventType.MOUSEUP,this.stopBlockIncrementing_,!0).listen(this.getElement(),goog.events.EventType.MOUSEMOVE,this.storeMousePos_);if(!this.incTimer_){this.incTimer_=new goog.Timer(goog.ui.SliderBase.MOUSE_DOWN_INCREMENT_INTERVAL_);this.getHandler().listen(this.incTimer_,goog.Timer.TICK,this.handleTimerTick_)}this.handleTimerTick_();this.incTimer_.start()};goog.ui.SliderBase.prototype.handleTimerTick_=function(){var value;if(this.orientation_==goog.ui.SliderBase.Orientation.VERTICAL){var mouseY=this.lastMousePosition_,thumbY=this.thumbToMove_.offsetTop;if(this.incrementing_){if(mouseY<thumbY){value=this.getThumbPosition_(this.thumbToMove_)+this.getBlockIncrement()}}else{var thumbH=this.thumbToMove_.offsetHeight;if(mouseY>thumbY+thumbH){value=this.getThumbPosition_(this.thumbToMove_)-this.getBlockIncrement()}}}else{var mouseX=this.lastMousePosition_,thumbX=this.getOffsetStart_(this.thumbToMove_);if(this.incrementing_){var thumbW=this.thumbToMove_.offsetWidth;if(mouseX>thumbX+thumbW){value=this.getThumbPosition_(this.thumbToMove_)+this.getBlockIncrement()}}else{if(mouseX<thumbX){value=this.getThumbPosition_(this.thumbToMove_)-this.getBlockIncrement()}}}if(goog.isDef(value)){this.setThumbPosition_(this.thumbToMove_,value)}};goog.ui.SliderBase.prototype.stopBlockIncrementing_=function(){if(this.incTimer_){this.incTimer_.stop()}var doc=goog.dom.getOwnerDocument(this.getElement());this.getHandler().unlisten(doc,goog.events.EventType.MOUSEUP,this.stopBlockIncrementing_,!0).unlisten(this.getElement(),goog.events.EventType.MOUSEMOVE,this.storeMousePos_)};goog.ui.SliderBase.prototype.getRelativeMousePos_=function(e){var coord=goog.style.getRelativePosition(e,this.getElement());if(this.orientation_==goog.ui.SliderBase.Orientation.VERTICAL){return coord.y}else{if(this.flipForRtl_&&this.isRightToLeft()){return this.getElement().clientWidth-coord.x}else{return coord.x}}};goog.ui.SliderBase.prototype.storeMousePos_=function(e){this.lastMousePosition_=this.getRelativeMousePos_(e)};goog.ui.SliderBase.prototype.getValueFromMousePosition=function(e){var min=this.getMinimum(),max=this.getMaximum();if(this.orientation_==goog.ui.SliderBase.Orientation.VERTICAL){var thumbH=this.valueThumb.offsetHeight,availH=this.getElement().clientHeight-thumbH,y=this.getRelativeMousePos_(e)-thumbH/2;return(max-min)*(availH-y)/availH+min}else{var thumbW=this.valueThumb.offsetWidth,availW=this.getElement().clientWidth-thumbW,x=this.getRelativeMousePos_(e)-thumbW/2;return(max-min)*x/availW+min}};goog.ui.SliderBase.prototype.getThumbPosition_=function(thumb){if(thumb==this.valueThumb){return this.rangeModel.getValue()}else if(thumb==this.extentThumb){return this.rangeModel.getValue()+this.rangeModel.getExtent()}else{throw Error("Illegal thumb element. Neither minThumb nor maxThumb")}};goog.ui.SliderBase.prototype.isDragging=function(){return this.valueDragger_.isDragging()||this.extentDragger_.isDragging()};goog.ui.SliderBase.prototype.moveThumbs=function(delta){if(Math.abs(delta)<this.getStep()){delta=goog.math.sign(delta)*this.getStep()}var newMinPos=this.getThumbPosition_(this.valueThumb)+delta,newMaxPos=this.getThumbPosition_(this.extentThumb)+delta;newMinPos=goog.math.clamp(newMinPos,this.getMinimum(),this.getMaximum()-this.minExtent_);newMaxPos=goog.math.clamp(newMaxPos,this.getMinimum()+this.minExtent_,this.getMaximum());this.setValueAndExtent(newMinPos,newMaxPos-newMinPos)};goog.ui.SliderBase.prototype.setThumbPosition_=function(thumb,position){var roundedPosition=this.rangeModel.roundToStepWithMin(position),value=thumb==this.valueThumb?roundedPosition:this.rangeModel.getValue(),end=thumb==this.extentThumb?roundedPosition:this.rangeModel.getValue()+this.rangeModel.getExtent();if(value>=this.getMinimum()&&end>=value+this.minExtent_&&this.getMaximum()>=end){this.setValueAndExtent(value,end-value)}};goog.ui.SliderBase.prototype.setValueAndExtent=function(value,extent){if(this.getMinimum()<=value&&value<=this.getMaximum()-extent&&this.minExtent_<=extent&&extent<=this.getMaximum()-value){if(value==this.getValue()&&extent==this.getExtent()){return}this.rangeModel.setMute(!0);this.rangeModel.setExtent(0);this.rangeModel.setValue(value);this.rangeModel.setExtent(extent);this.rangeModel.setMute(!1);this.handleRangeModelChange(null)}};goog.ui.SliderBase.prototype.getMinimum=function(){return this.rangeModel.getMinimum()};goog.ui.SliderBase.prototype.setMinimum=function(min){this.rangeModel.setMinimum(min)};goog.ui.SliderBase.prototype.getMaximum=function(){return this.rangeModel.getMaximum()};goog.ui.SliderBase.prototype.setMaximum=function(max){this.rangeModel.setMaximum(max)};goog.ui.SliderBase.prototype.getValueThumb=function(){return this.valueThumb};goog.ui.SliderBase.prototype.getExtentThumb=function(){return this.extentThumb};goog.ui.SliderBase.prototype.getClosestThumb_=function(position){if(position<=this.rangeModel.getValue()+this.rangeModel.getExtent()/2){return this.valueThumb}else{return this.extentThumb}};goog.ui.SliderBase.prototype.handleRangeModelChange=function(e){this.updateUi_();this.updateAriaStates();this.dispatchEvent(goog.ui.Component.EventType.CHANGE)};goog.ui.SliderBase.prototype.updateUi_=function(){if(this.valueThumb&&!this.isAnimating_){var minCoord=this.getThumbCoordinateForValue(this.getThumbPosition_(this.valueThumb)),maxCoord=this.getThumbCoordinateForValue(this.getThumbPosition_(this.extentThumb));if(this.orientation_==goog.ui.SliderBase.Orientation.VERTICAL){this.valueThumb.style.top=minCoord.y+"px";this.extentThumb.style.top=maxCoord.y+"px";if(this.rangeHighlight){var highlightPositioning=this.calculateRangeHighlightPositioning_(maxCoord.y,minCoord.y,this.valueThumb.offsetHeight);this.rangeHighlight.style.top=highlightPositioning.offset+"px";this.rangeHighlight.style.height=highlightPositioning.size+"px"}}else{var pos=this.flipForRtl_&&this.isRightToLeft()?"right":"left";this.valueThumb.style[pos]=minCoord.x+"px";this.extentThumb.style[pos]=maxCoord.x+"px";if(this.rangeHighlight){var highlightPositioning=this.calculateRangeHighlightPositioning_(minCoord.x,maxCoord.x,this.valueThumb.offsetWidth);this.rangeHighlight.style[pos]=highlightPositioning.offset+"px";this.rangeHighlight.style.width=highlightPositioning.size+"px"}}}};goog.ui.SliderBase.prototype.calculateRangeHighlightPositioning_=function(firstThumbPos,secondThumbPos,thumbSize){var highlightInset=Math.ceil(thumbSize/2),size=secondThumbPos-firstThumbPos+thumbSize-2*highlightInset;return{offset:firstThumbPos+highlightInset,size:Math.max(size,0)}};goog.ui.SliderBase.prototype.getThumbCoordinateForValue=function(val){var _Mathround=Math.round,coord=new goog.math.Coordinate;if(this.valueThumb){var min=this.getMinimum(),max=this.getMaximum(),ratio=val==min&&min==max?0:(val-min)/(max-min);if(this.orientation_==goog.ui.SliderBase.Orientation.VERTICAL){var thumbHeight=this.valueThumb.offsetHeight,h=this.getElement().clientHeight-thumbHeight,bottom=_Mathround(ratio*h);coord.x=this.getOffsetStart_(this.valueThumb);coord.y=h-bottom}else{var w=this.getElement().clientWidth-this.valueThumb.offsetWidth,left=_Mathround(ratio*w);coord.x=left;coord.y=this.valueThumb.offsetTop}}return coord};goog.ui.SliderBase.prototype.animatedSetValue=function(v){v=goog.math.clamp(v,this.getMinimum(),this.getMaximum());if(this.isAnimating_){this.currentAnimation_.stop(!0);this.currentAnimation_.dispose()}var animations=new goog.fx.AnimationParallelQueue,end,thumb=this.getClosestThumb_(v),previousValue=this.getValue(),previousExtent=this.getExtent(),previousThumbValue=this.getThumbPosition_(thumb),previousCoord=this.getThumbCoordinateForValue(previousThumbValue),stepSize=this.getStep();if(Math.abs(v-previousThumbValue)<stepSize){var delta=v>previousThumbValue?stepSize:-stepSize;v=previousThumbValue+delta;v=goog.math.clamp(v,this.getMinimum(),this.getMaximum())}this.setThumbPosition_(thumb,v);var coord=this.getThumbCoordinateForValue(this.getThumbPosition_(thumb));if(this.orientation_==goog.ui.SliderBase.Orientation.VERTICAL){end=[this.getOffsetStart_(thumb),coord.y]}else{end=[coord.x,thumb.offsetTop]}var slide=new goog.fx.dom.Slide(thumb,[previousCoord.x,previousCoord.y],end,goog.ui.SliderBase.ANIMATION_INTERVAL_);slide.enableRightPositioningForRtl(this.flipForRtl_);animations.add(slide);if(this.rangeHighlight){this.addRangeHighlightAnimations_(thumb,previousValue,previousExtent,coord,animations)}if(this.additionalAnimations_){var additionalAnimations=this.additionalAnimations_.createAnimations(previousValue,v,goog.ui.SliderBase.ANIMATION_INTERVAL_);goog.array.forEach(additionalAnimations,function(animation){animations.add(animation)})}this.currentAnimation_=animations;this.getHandler().listen(animations,goog.fx.Transition.EventType.END,this.endAnimation_);this.isAnimating_=!0;animations.play(!1)};goog.ui.SliderBase.prototype.isAnimating=function(){return this.isAnimating_};goog.ui.SliderBase.prototype.setAdditionalAnimations=function(factory){this.additionalAnimations_=factory};goog.ui.SliderBase.prototype.addRangeHighlightAnimations_=function(thumb,previousValue,previousExtent,newCoord,animations){var previousMinCoord=this.getThumbCoordinateForValue(previousValue),previousMaxCoord=this.getThumbCoordinateForValue(previousValue+previousExtent),minCoord=previousMinCoord,maxCoord=previousMaxCoord;if(thumb==this.valueThumb){minCoord=newCoord}else{maxCoord=newCoord}if(this.orientation_==goog.ui.SliderBase.Orientation.VERTICAL){var previousHighlightPositioning=this.calculateRangeHighlightPositioning_(previousMaxCoord.y,previousMinCoord.y,this.valueThumb.offsetHeight),highlightPositioning=this.calculateRangeHighlightPositioning_(maxCoord.y,minCoord.y,this.valueThumb.offsetHeight),slide=new goog.fx.dom.Slide(this.rangeHighlight,[this.getOffsetStart_(this.rangeHighlight),previousHighlightPositioning.offset],[this.getOffsetStart_(this.rangeHighlight),highlightPositioning.offset],goog.ui.SliderBase.ANIMATION_INTERVAL_),resizeHeight=new goog.fx.dom.ResizeHeight(this.rangeHighlight,previousHighlightPositioning.size,highlightPositioning.size,goog.ui.SliderBase.ANIMATION_INTERVAL_);slide.enableRightPositioningForRtl(this.flipForRtl_);resizeHeight.enableRightPositioningForRtl(this.flipForRtl_);animations.add(slide);animations.add(resizeHeight)}else{var previousHighlightPositioning=this.calculateRangeHighlightPositioning_(previousMinCoord.x,previousMaxCoord.x,this.valueThumb.offsetWidth),highlightPositioning=this.calculateRangeHighlightPositioning_(minCoord.x,maxCoord.x,this.valueThumb.offsetWidth),slide=new goog.fx.dom.Slide(this.rangeHighlight,[previousHighlightPositioning.offset,this.rangeHighlight.offsetTop],[highlightPositioning.offset,this.rangeHighlight.offsetTop],goog.ui.SliderBase.ANIMATION_INTERVAL_),resizeWidth=new goog.fx.dom.ResizeWidth(this.rangeHighlight,previousHighlightPositioning.size,highlightPositioning.size,goog.ui.SliderBase.ANIMATION_INTERVAL_);slide.enableRightPositioningForRtl(this.flipForRtl_);resizeWidth.enableRightPositioningForRtl(this.flipForRtl_);animations.add(slide);animations.add(resizeWidth)}};goog.ui.SliderBase.prototype.endAnimation_=function(e){this.isAnimating_=!1;this.dispatchEvent(goog.ui.SliderBase.EventType.ANIMATION_END)};goog.ui.SliderBase.prototype.setOrientation=function(orient){if(this.orientation_!=orient){var oldCss=this.getCssClass(this.orientation_),newCss=this.getCssClass(orient);this.orientation_=orient;if(this.getElement()){goog.dom.classlist.swap(goog.asserts.assert(this.getElement()),oldCss,newCss);var pos=this.flipForRtl_&&this.isRightToLeft()?"right":"left";this.valueThumb.style[pos]=this.valueThumb.style.top="";this.extentThumb.style[pos]=this.extentThumb.style.top="";if(this.rangeHighlight){this.rangeHighlight.style[pos]=this.rangeHighlight.style.top="";this.rangeHighlight.style.width=this.rangeHighlight.style.height=""}this.updateUi_()}}};goog.ui.SliderBase.prototype.getOrientation=function(){return this.orientation_};goog.ui.SliderBase.prototype.disposeInternal=function(){goog.ui.SliderBase.superClass_.disposeInternal.call(this);if(this.incTimer_){this.incTimer_.dispose()}delete this.incTimer_;if(this.currentAnimation_){this.currentAnimation_.dispose()}delete this.currentAnimation_;delete this.valueThumb;delete this.extentThumb;if(this.rangeHighlight){delete this.rangeHighlight}this.rangeModel.dispose();delete this.rangeModel;if(this.keyHandler_){this.keyHandler_.dispose();delete this.keyHandler_}if(this.mouseWheelHandler_){this.mouseWheelHandler_.dispose();delete this.mouseWheelHandler_}if(this.valueDragger_){this.valueDragger_.dispose();delete this.valueDragger_}if(this.extentDragger_){this.extentDragger_.dispose();delete this.extentDragger_}};goog.ui.SliderBase.prototype.getBlockIncrement=function(){return this.blockIncrement_};goog.ui.SliderBase.prototype.setBlockIncrement=function(value){this.blockIncrement_=value};goog.ui.SliderBase.prototype.setMinExtent=function(value){this.minExtent_=value};goog.ui.SliderBase.prototype.unitIncrement_=1;goog.ui.SliderBase.prototype.getUnitIncrement=function(){return this.unitIncrement_};goog.ui.SliderBase.prototype.setUnitIncrement=function(value){this.unitIncrement_=value};goog.ui.SliderBase.prototype.getStep=function(){return this.rangeModel.getStep()};goog.ui.SliderBase.prototype.setStep=function(step){this.rangeModel.setStep(step)};goog.ui.SliderBase.prototype.getMoveToPointEnabled=function(){return this.moveToPointEnabled_};goog.ui.SliderBase.prototype.setMoveToPointEnabled=function(val){this.moveToPointEnabled_=val};goog.ui.SliderBase.prototype.getValue=function(){return this.rangeModel.getValue()};goog.ui.SliderBase.prototype.setValue=function(value){this.setThumbPosition_(this.valueThumb,value)};goog.ui.SliderBase.prototype.getExtent=function(){return this.rangeModel.getExtent()};goog.ui.SliderBase.prototype.setExtent=function(extent){this.setThumbPosition_(this.extentThumb,this.rangeModel.getValue()+extent)};goog.ui.SliderBase.prototype.setVisible=function(visible){goog.style.setElementShown(this.getElement(),visible);if(visible){this.updateUi_()}};goog.ui.SliderBase.prototype.setAriaRoles=function(){var el=this.getElement();goog.asserts.assert(el,"The DOM element for the slider base cannot be null.");goog.a11y.aria.setRole(el,goog.a11y.aria.Role.SLIDER);this.updateAriaStates()};goog.ui.SliderBase.prototype.updateAriaStates=function(){var element=this.getElement();if(element){goog.a11y.aria.setState(element,goog.a11y.aria.State.VALUEMIN,this.getMinimum());goog.a11y.aria.setState(element,goog.a11y.aria.State.VALUEMAX,this.getMaximum());goog.a11y.aria.setState(element,goog.a11y.aria.State.VALUENOW,this.getValue());goog.a11y.aria.setState(element,goog.a11y.aria.State.VALUETEXT,this.getTextValue()||"")}};goog.ui.SliderBase.prototype.setHandleMouseWheel=function(enable){if(this.isInDocument()&&enable!=this.isHandleMouseWheel()){this.enableMouseWheelHandling_(enable)}this.isHandleMouseWheel_=enable};goog.ui.SliderBase.prototype.isHandleMouseWheel=function(){return this.isHandleMouseWheel_};goog.ui.SliderBase.prototype.enableMouseWheelHandling_=function(enable){if(enable){if(!this.mouseWheelHandler_){this.mouseWheelHandler_=new goog.events.MouseWheelHandler(this.getElement())}this.getHandler().listen(this.mouseWheelHandler_,goog.events.MouseWheelHandler.EventType.MOUSEWHEEL,this.handleMouseWheel_)}else{this.getHandler().unlisten(this.mouseWheelHandler_,goog.events.MouseWheelHandler.EventType.MOUSEWHEEL,this.handleMouseWheel_)}};goog.ui.SliderBase.prototype.setEnabled=function(enable){if(this.enabled_==enable){return}var eventType=enable?goog.ui.Component.EventType.ENABLE:goog.ui.Component.EventType.DISABLE;if(this.dispatchEvent(eventType)){this.enabled_=enable;this.enableEventHandlers_(enable);if(!enable){this.stopBlockIncrementing_()}goog.dom.classlist.enable(goog.asserts.assert(this.getElement()),goog.ui.SliderBase.DISABLED_CSS_CLASS_,!enable)}};goog.ui.SliderBase.prototype.isEnabled=function(){return this.enabled_};goog.ui.SliderBase.prototype.getOffsetStart_=function(element){return this.flipForRtl_?goog.style.bidi.getOffsetStart(element):element.offsetLeft};goog.ui.SliderBase.prototype.getTextValue=function(){return this.labelFn_(this.getValue())};goog.ui.SliderBase.AnimationFactory=function(){};goog.ui.SliderBase.AnimationFactory.prototype.createAnimations;