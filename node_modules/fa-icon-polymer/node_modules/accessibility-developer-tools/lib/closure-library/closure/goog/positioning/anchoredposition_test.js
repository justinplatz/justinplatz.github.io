goog.provide("goog.positioning.AnchoredPositionTest");goog.setTestOnly("goog.positioning.AnchoredPositionTest");goog.require("goog.dom");goog.require("goog.positioning.AnchoredPosition");goog.require("goog.positioning.Corner");goog.require("goog.positioning.Overflow");goog.require("goog.style");goog.require("goog.testing.jsunit");var frame,doc,dom,viewportSize,anchor,popup,corner=goog.positioning.Corner,popupLength=20,anchorLength=100;function setUp(){frame=document.getElementById("frame1");doc=goog.dom.getFrameContentDocument(frame);dom=goog.dom.getDomHelper(doc);viewportSize=dom.getViewportSize();anchor=dom.getElement("anchor");popup=dom.getElement("popup");goog.style.setSize(popup,popupLength,popupLength);goog.style.setPosition(popup,popupLength,popupLength);goog.style.setSize(anchor,anchorLength,anchorLength)}function testRepositionWithDefaultOverflow(){var avp=new goog.positioning.AnchoredPosition(anchor,corner.BOTTOM_LEFT),newTop=viewportSize.height-anchorLength;goog.style.setPosition(anchor,50,newTop);var anchorRect=goog.style.getBounds(anchor);avp.reposition(popup,corner.TOP_LEFT);var popupRect=goog.style.getBounds(popup);assertEquals(anchorRect.top+anchorRect.height,popupRect.top)}function testRepositionWithOverflow(){var avp=new goog.positioning.AnchoredPosition(anchor,corner.BOTTOM_LEFT,goog.positioning.Overflow.ADJUST_Y),newTop=viewportSize.height-anchorLength;goog.style.setPosition(anchor,50,newTop);var anchorRect=goog.style.getBounds(anchor);avp.reposition(popup,corner.TOP_LEFT);var popupRect=goog.style.getBounds(popup);assertEquals(anchorRect.top+anchorRect.height,popupRect.top+popupRect.height)}