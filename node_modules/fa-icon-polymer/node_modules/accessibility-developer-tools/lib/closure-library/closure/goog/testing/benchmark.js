goog.provide("goog.testing.benchmark");goog.setTestOnly("goog.testing.benchmark");goog.require("goog.dom");goog.require("goog.dom.TagName");goog.require("goog.testing.PerformanceTable");goog.require("goog.testing.PerformanceTimer");goog.require("goog.testing.TestCase");goog.testing.benchmark.run_=function(){var times=200,search=window.location.search,timesMatch=search.match(/(?:\?|&)times=([^?&]+)/i);if(timesMatch){times=+timesMatch[1]}for(var prefix="benchmark",testSources=goog.testing.TestCase.getGlobals(),benchmarks={},names=[],i=0,testSource;i<testSources.length;i++){testSource=testSources[i];for(var name in testSource){if(new RegExp("^"+prefix).test(name)){var ref;try{ref=testSource[name]}catch(ex){ref=void 0}if(goog.isFunction(ref)){benchmarks[name]=ref;names.push(name)}}}}document.body.appendChild(goog.dom.createTextNode("Running "+names.length+" benchmarks "+times+" times each."));document.body.appendChild(goog.dom.createElement(goog.dom.TagName.BR));names.sort();var performanceTimer=new goog.testing.PerformanceTimer(times);performanceTimer.setDiscardOutliers(!0);for(var performanceTable=new goog.testing.PerformanceTable(document.body,performanceTimer,2),i=0;i<names.length;i++){performanceTable.run(benchmarks[names[i]],names[i])}};window.onload=function(e){goog.testing.benchmark.run_()};