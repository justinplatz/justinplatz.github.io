<!DOCTYPE html><html><head><title>History Demo JavaScript Page</title></head><body><script src="../base.js"></script><script>goog.require("goog.History");goog.require("goog.debug.DivConsole");goog.require("goog.dom");goog.require("goog.events");goog.require("goog.history.EventType");goog.require("goog.log");</script><script>var logger=goog.log.getLogger("demo"),logconsole=new goog.debug.DivConsole(top.document.getElementById("log"));logconsole.setCapturing(!0);var events=goog.object.getValues(goog.history.EventType);goog.log.info(logger,"Listening for: "+events.join(", ")+".");var googHist=new goog.History(!1,"history_blank.html",top.document.getElementById("hist_state"));goog.events.listen(googHist,events,function(e){goog.log.info(logger,goog.string.subs("dispatched: %s (token=\"%s\", isNavigation=%s)",e.type,e.token,e.isNavigation))});goog.events.listen(googHist,goog.History.EventType.NAVIGATE,navCallback);googHist.setEnabled(!0);function navCallback(e){var output=top.document.getElementById("token_output");if(output){var token=null==e.token?"null":"\u201C"+e.token+"\u201D";goog.dom.setTextContent(output,token)}}</script></body></html>