goog.provide("goog.ui.style.app.ButtonRendererTest");goog.setTestOnly("goog.ui.style.app.ButtonRendererTest");goog.require("goog.dom");goog.require("goog.testing.jsunit");goog.require("goog.testing.ui.style");goog.require("goog.ui.Button");goog.require("goog.ui.Component");goog.require("goog.ui.style.app.ButtonRenderer");goog.require("goog.userAgent");var renderer=goog.ui.style.app.ButtonRenderer.getInstance(),button,refPath="../../../../../webutil/css/fastui/app/button_spec.html";goog.testing.ui.style.writeReferenceFrame(refPath);function shouldRunTests(){return!/closure\/goog\/ui/.test(location.pathname)}function setUp(){button=new goog.ui.Button("Hello Generated",renderer);button.setTooltip("Click for Generated")}function tearDown(){if(button){button.dispose()}goog.dom.removeChildren(goog.dom.getElement("sandbox"))}function testGeneratedButton(){button.render(goog.dom.getElement("sandbox"));goog.testing.ui.style.assertStructureMatchesReference(button.getElement(),"normal-resting");assertEquals("Hello Generated",button.getContentElement().innerHTML);assertEquals("Click for Generated",button.getElement().getAttribute("title"))}function testButtonStates(){button.render(goog.dom.getElement("sandbox"));goog.testing.ui.style.assertStructureMatchesReference(button.getElement(),"normal-resting");button.setState(goog.ui.Component.State.HOVER,!0);goog.testing.ui.style.assertStructureMatchesReference(button.getElement(),"normal-hover");button.setState(goog.ui.Component.State.HOVER,!1);button.setState(goog.ui.Component.State.FOCUSED,!0);goog.testing.ui.style.assertStructureMatchesReference(button.getElement(),"normal-focused");button.setState(goog.ui.Component.State.FOCUSED,!1);button.setState(goog.ui.Component.State.ACTIVE,!0);goog.testing.ui.style.assertStructureMatchesReference(button.getElement(),"normal-active");button.setState(goog.ui.Component.State.ACTIVE,!1);button.setState(goog.ui.Component.State.DISABLED,!0);goog.testing.ui.style.assertStructureMatchesReference(button.getElement(),"normal-disabled")}function testDecoratedButton(){button.decorate(goog.dom.getElement("button"));goog.testing.ui.style.assertStructureMatchesReference(button.getElement(),"normal-resting");assertEquals("Hello Decorated",button.getContentElement().innerHTML);assertEquals("Click for Decorated",button.getElement().getAttribute("title"))}function testDecoratedButtonBox(){button.decorate(goog.dom.getElement("button-box"));goog.testing.ui.style.assertStructureMatchesReference(button.getElement(),"normal-resting");assertEquals("Hello Decorated Box",button.getContentElement().innerHTML);assertEquals("Click for Decorated Box",button.getElement().getAttribute("title"))}function testDecoratedButtonBoxWithSpaceInContent(){button.decorate(goog.dom.getElement("button-box-with-space-in-content"));goog.testing.ui.style.assertStructureMatchesReference(button.getElement(),"normal-resting");if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){assertEquals("Hello Decorated Box with space ",button.getContentElement().innerHTML)}else{assertEquals("\n    Hello Decorated Box with space\n  ",button.getContentElement().innerHTML)}}function testExistingContentIsUsed(){button.decorate(goog.dom.getElement("button-box-with-dom-content"));goog.testing.ui.style.assertStructureMatchesReference(button.getElement(),"normal-resting");var content=button.getContentElement();assertEquals("Unexpected number of child nodes",3,content.childNodes.length);assertEquals("Unexpected tag","STRONG",content.childNodes[0].tagName);assertEquals("Unexpected text content","Hello",content.childNodes[0].innerHTML);assertEquals("Unexpected tag","EM",content.childNodes[2].tagName);assertEquals("Unexpected text content","Box",content.childNodes[2].innerHTML)}