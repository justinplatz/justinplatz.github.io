goog.provide("goog.vec.vec3d");goog.provide("goog.vec.vec3d.Type");goog.require("goog.vec");goog.vec.vec3d.Type;goog.vec.vec3d.create=function(){return new Float64Array(3)};goog.vec.vec3d.createFromArray=function(vec){var newVec=goog.vec.vec3d.create();goog.vec.vec3d.setFromArray(newVec,vec);return newVec};goog.vec.vec3d.createFromValues=function(v0,v1,v2){var vec=goog.vec.vec3d.create();goog.vec.vec3d.setFromValues(vec,v0,v1,v2);return vec};goog.vec.vec3d.clone=function(vec){var newVec=goog.vec.vec3d.create();goog.vec.vec3d.setFromVec3d(newVec,vec);return newVec};goog.vec.vec3d.setFromValues=function(vec,v0,v1,v2){vec[0]=v0;vec[1]=v1;vec[2]=v2;return vec};goog.vec.vec3d.setFromVec3d=function(vec,src){vec[0]=src[0];vec[1]=src[1];vec[2]=src[2];return vec};goog.vec.vec3d.setFromVec3f=function(vec,src){vec[0]=src[0];vec[1]=src[1];vec[2]=src[2];return vec};goog.vec.vec3d.setFromArray=function(vec,src){vec[0]=src[0];vec[1]=src[1];vec[2]=src[2];return vec};goog.vec.vec3d.add=function(vec0,vec1,resultVec){resultVec[0]=vec0[0]+vec1[0];resultVec[1]=vec0[1]+vec1[1];resultVec[2]=vec0[2]+vec1[2];return resultVec};goog.vec.vec3d.subtract=function(vec0,vec1,resultVec){resultVec[0]=vec0[0]-vec1[0];resultVec[1]=vec0[1]-vec1[1];resultVec[2]=vec0[2]-vec1[2];return resultVec};goog.vec.vec3d.negate=function(vec0,resultVec){resultVec[0]=-vec0[0];resultVec[1]=-vec0[1];resultVec[2]=-vec0[2];return resultVec};goog.vec.vec3d.abs=function(vec0,resultVec){var _Mathabs=Math.abs;resultVec[0]=_Mathabs(vec0[0]);resultVec[1]=_Mathabs(vec0[1]);resultVec[2]=_Mathabs(vec0[2]);return resultVec};goog.vec.vec3d.scale=function(vec0,scalar,resultVec){resultVec[0]=vec0[0]*scalar;resultVec[1]=vec0[1]*scalar;resultVec[2]=vec0[2]*scalar;return resultVec};goog.vec.vec3d.magnitudeSquared=function(vec0){var x=vec0[0],y=vec0[1],z=vec0[2];return x*x+y*y+z*z};goog.vec.vec3d.magnitude=function(vec0){var x=vec0[0],y=vec0[1],z=vec0[2];return Math.sqrt(x*x+y*y+z*z)};goog.vec.vec3d.normalize=function(vec0,resultVec){var x=vec0[0],y=vec0[1],z=vec0[2],ilen=1/Math.sqrt(x*x+y*y+z*z);resultVec[0]=x*ilen;resultVec[1]=y*ilen;resultVec[2]=z*ilen;return resultVec};goog.vec.vec3d.dot=function(v0,v1){return v0[0]*v1[0]+v0[1]*v1[1]+v0[2]*v1[2]};goog.vec.vec3d.cross=function(v0,v1,resultVec){var x0=v0[0],y0=v0[1],z0=v0[2],x1=v1[0],y1=v1[1],z1=v1[2];resultVec[0]=y0*z1-z0*y1;resultVec[1]=z0*x1-x0*z1;resultVec[2]=x0*y1-y0*x1;return resultVec};goog.vec.vec3d.distanceSquared=function(vec0,vec1){var x=vec0[0]-vec1[0],y=vec0[1]-vec1[1],z=vec0[2]-vec1[2];return x*x+y*y+z*z};goog.vec.vec3d.distance=function(vec0,vec1){return Math.sqrt(goog.vec.vec3d.distanceSquared(vec0,vec1))};goog.vec.vec3d.direction=function(vec0,vec1,resultVec){var x=vec1[0]-vec0[0],y=vec1[1]-vec0[1],z=vec1[2]-vec0[2],d=Math.sqrt(x*x+y*y+z*z);if(d){d=1/d;resultVec[0]=x*d;resultVec[1]=y*d;resultVec[2]=z*d}else{resultVec[0]=resultVec[1]=resultVec[2]=0}return resultVec};goog.vec.vec3d.lerp=function(v0,v1,f,resultVec){var x=v0[0],y=v0[1],z=v0[2];resultVec[0]=(v1[0]-x)*f+x;resultVec[1]=(v1[1]-y)*f+y;resultVec[2]=(v1[2]-z)*f+z;return resultVec};goog.vec.vec3d.slerp=function(v0,v1,f,resultVec){var _Mathsin=Math.sin,_Mathsqrt=Math.sqrt,v0Magnitude=goog.vec.vec3d.magnitude(v0),v1Magnitude=goog.vec.vec3d.magnitude(v1),cosAngle=goog.vec.vec3d.dot(v0,v1)/(v0Magnitude*v1Magnitude);if(cosAngle>1-goog.vec.EPSILON){return goog.vec.vec3d.lerp(v0,v1,f,resultVec)}var angle=0,sinAngle=0;if(cosAngle<-1+goog.vec.EPSILON){var mid=goog.vec.vec3d.create(),magnitudeFactor=(v0Magnitude+v1Magnitude)/2;if(v0[0]){magnitudeFactor/=_Mathsqrt(v0[0]*v0[0]+v0[1]+v0[1]);mid[0]=-v0[1]*magnitudeFactor;mid[1]=v0[0]*magnitudeFactor;mid[2]=0}else{magnitudeFactor/=_Mathsqrt(v0[2]*v0[2]+v0[1]+v0[1]);mid[0]=0;mid[1]=-v0[2]*magnitudeFactor;mid[2]=v0[1]*magnitudeFactor}if(.5>=f){v1Magnitude=v0Magnitude;v1=mid;f*=2}else{v0=mid;f=2*f-1}angle=Math.PI/2;cosAngle=0;sinAngle=1}else{angle=Math.acos(cosAngle);sinAngle=_Mathsqrt(1-cosAngle*cosAngle)}var coeff0=_Mathsin((1-f)*angle)/sinAngle/v0Magnitude,coeff1=_Mathsin(f*angle)/sinAngle/v1Magnitude,magnitude=(1-f)*v0Magnitude+f*v1Magnitude;resultVec[0]=(v0[0]*coeff0+v1[0]*coeff1)*magnitude;resultVec[1]=(v0[1]*coeff0+v1[1]*coeff1)*magnitude;resultVec[2]=(v0[2]*coeff0+v1[2]*coeff1)*magnitude;return resultVec};goog.vec.vec3d.max=function(vec0,limit,resultVec){var _Mathmax=Math.max;if(goog.isNumber(limit)){resultVec[0]=_Mathmax(vec0[0],limit);resultVec[1]=_Mathmax(vec0[1],limit);resultVec[2]=_Mathmax(vec0[2],limit)}else{resultVec[0]=_Mathmax(vec0[0],limit[0]);resultVec[1]=_Mathmax(vec0[1],limit[1]);resultVec[2]=_Mathmax(vec0[2],limit[2])}return resultVec};goog.vec.vec3d.min=function(vec0,limit,resultVec){var _Mathmin=Math.min;if(goog.isNumber(limit)){resultVec[0]=_Mathmin(vec0[0],limit);resultVec[1]=_Mathmin(vec0[1],limit);resultVec[2]=_Mathmin(vec0[2],limit)}else{resultVec[0]=_Mathmin(vec0[0],limit[0]);resultVec[1]=_Mathmin(vec0[1],limit[1]);resultVec[2]=_Mathmin(vec0[2],limit[2])}return resultVec};goog.vec.vec3d.equals=function(v0,v1){return v0.length==v1.length&&v0[0]==v1[0]&&v0[1]==v1[1]&&v0[2]==v1[2]};