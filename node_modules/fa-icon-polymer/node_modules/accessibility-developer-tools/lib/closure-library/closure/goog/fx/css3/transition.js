goog.provide("goog.fx.css3.Transition");goog.require("goog.Timer");goog.require("goog.asserts");goog.require("goog.fx.TransitionBase");goog.require("goog.style");goog.require("goog.style.transition");goog.fx.css3.Transition=function(element,duration,initialStyle,finalStyle,transitions){goog.fx.css3.Transition.base(this,"constructor");this.timerId_;this.element_=element;this.duration_=duration;this.initialStyle_=initialStyle;this.finalStyle_=finalStyle;this.transitions_=goog.isArray(transitions)?transitions:[transitions]};goog.inherits(goog.fx.css3.Transition,goog.fx.TransitionBase);goog.fx.css3.Transition.prototype.play=function(){if(this.isPlaying()){return!1}this.onBegin();this.onPlay();this.startTime=goog.now();this.setStatePlaying();if(goog.style.transition.isSupported()){goog.style.setStyle(this.element_,this.initialStyle_);this.timerId_=goog.Timer.callOnce(this.play_,void 0,this);return!0}else{this.stop_(!1);return!1}};goog.fx.css3.Transition.prototype.play_=function(){goog.style.getSize(this.element_);goog.style.transition.set(this.element_,this.transitions_);goog.style.setStyle(this.element_,this.finalStyle_);this.timerId_=goog.Timer.callOnce(goog.bind(this.stop_,this,!1),1e3*this.duration_)};goog.fx.css3.Transition.prototype.stop=function(){if(!this.isPlaying())return;this.stop_(!0)};goog.fx.css3.Transition.prototype.stop_=function(stopped){goog.style.transition.removeAll(this.element_);goog.Timer.clear(this.timerId_);goog.style.setStyle(this.element_,this.finalStyle_);this.endTime=goog.now();this.setStateStopped();if(stopped){this.onStop()}else{this.onFinish()}this.onEnd()};goog.fx.css3.Transition.prototype.disposeInternal=function(){this.stop();goog.fx.css3.Transition.base(this,"disposeInternal")};goog.fx.css3.Transition.prototype.pause=function(){goog.asserts.assert(!1,"Css3 transitions does not support pause action.")};