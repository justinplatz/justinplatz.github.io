goog.provide("goog.dom");goog.provide("goog.dom.Appendable");goog.provide("goog.dom.DomHelper");goog.require("goog.array");goog.require("goog.asserts");goog.require("goog.dom.BrowserFeature");goog.require("goog.dom.NodeType");goog.require("goog.dom.TagName");goog.require("goog.dom.safe");goog.require("goog.html.SafeHtml");goog.require("goog.html.uncheckedconversions");goog.require("goog.math.Coordinate");goog.require("goog.math.Size");goog.require("goog.object");goog.require("goog.string");goog.require("goog.string.Unicode");goog.require("goog.userAgent");goog.define("goog.dom.ASSUME_QUIRKS_MODE",!1);goog.define("goog.dom.ASSUME_STANDARDS_MODE",!1);goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE;goog.dom.getDomHelper=function(opt_element){return opt_element?new goog.dom.DomHelper(goog.dom.getOwnerDocument(opt_element)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)};goog.dom.defaultDomHelper_;goog.dom.getDocument=function(){return document};goog.dom.getElement=function(element){return goog.dom.getElementHelper_(document,element)};goog.dom.getElementHelper_=function(doc,element){return goog.isString(element)?doc.getElementById(element):element};goog.dom.getRequiredElement=function(id){return goog.dom.getRequiredElementHelper_(document,id)};goog.dom.getRequiredElementHelper_=function(doc,id){goog.asserts.assertString(id);var element=goog.dom.getElementHelper_(doc,id);element=goog.asserts.assertElement(element,"No element found with id: "+id);return element};goog.dom.$=goog.dom.getElement;goog.dom.getElementsByTagName=function(tagName,opt_parent){var parent=opt_parent||document;return parent.getElementsByTagName(tagName+"")};goog.dom.getElementsByTagNameAndClass=function(opt_tag,opt_class,opt_el){return goog.dom.getElementsByTagNameAndClass_(document,opt_tag,opt_class,opt_el)};goog.dom.getElementsByClass=function(className,opt_el){var parent=opt_el||document;if(goog.dom.canUseQuerySelector_(parent)){return parent.querySelectorAll("."+className)}return goog.dom.getElementsByTagNameAndClass_(document,"*",className,opt_el)};goog.dom.getElementByClass=function(className,opt_el){var parent=opt_el||document,retVal=null;if(parent.getElementsByClassName){retVal=parent.getElementsByClassName(className)[0]}else if(goog.dom.canUseQuerySelector_(parent)){retVal=parent.querySelector("."+className)}else{retVal=goog.dom.getElementsByTagNameAndClass_(document,"*",className,opt_el)[0]}return retVal||null};goog.dom.getRequiredElementByClass=function(className,opt_root){var retValue=goog.dom.getElementByClass(className,opt_root);return goog.asserts.assert(retValue,"No element found with className: "+className)};goog.dom.canUseQuerySelector_=function(parent){return!!(parent.querySelectorAll&&parent.querySelector)};goog.dom.getElementsByTagNameAndClass_=function(doc,opt_tag,opt_class,opt_el){var parent=opt_el||doc,tagName=opt_tag&&"*"!=opt_tag?(opt_tag+"").toUpperCase():"";if(goog.dom.canUseQuerySelector_(parent)&&(tagName||opt_class)){var query=tagName+(opt_class?"."+opt_class:"");return parent.querySelectorAll(query)}if(opt_class&&parent.getElementsByClassName){var els=parent.getElementsByClassName(opt_class);if(tagName){for(var arrayLike={},len=0,i=0,el;el=els[i];i++){if(tagName==el.nodeName){arrayLike[len++]=el}}arrayLike.length=len;return arrayLike}else{return els}}var els=parent.getElementsByTagName(tagName||"*");if(opt_class){for(var arrayLike={},len=0,i=0,el,className;el=els[i];i++){className=el.className;if("function"==typeof className.split&&goog.array.contains(className.split(/\s+/),opt_class)){arrayLike[len++]=el}}arrayLike.length=len;return arrayLike}else{return els}};goog.dom.$$=goog.dom.getElementsByTagNameAndClass;goog.dom.setProperties=function(element,properties){goog.object.forEach(properties,function(val,key){if("style"==key){element.style.cssText=val}else if("class"==key){element.className=val}else if("for"==key){element.htmlFor=val}else if(goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(key)){element.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[key],val)}else if(goog.string.startsWith(key,"aria-")||goog.string.startsWith(key,"data-")){element.setAttribute(key,val)}else{element[key]=val}})};goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};goog.dom.getViewportSize=function(opt_window){return goog.dom.getViewportSize_(opt_window||window)};goog.dom.getViewportSize_=function(win){var doc=win.document,el=goog.dom.isCss1CompatMode_(doc)?doc.documentElement:doc.body;return new goog.math.Size(el.clientWidth,el.clientHeight)};goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)};goog.dom.getDocumentHeightForWindow=function(win){return goog.dom.getDocumentHeight_(win)};goog.dom.getDocumentHeight_=function(win){var doc=win.document,height=0;if(doc){var body=doc.body,docEl=doc.documentElement;if(!(docEl&&body)){return 0}var vh=goog.dom.getViewportSize_(win).height;if(goog.dom.isCss1CompatMode_(doc)&&docEl.scrollHeight){height=docEl.scrollHeight!=vh?docEl.scrollHeight:docEl.offsetHeight}else{var sh=docEl.scrollHeight,oh=docEl.offsetHeight;if(docEl.clientHeight!=oh){sh=body.scrollHeight;oh=body.offsetHeight}if(sh>vh){height=sh>oh?sh:oh}else{height=sh<oh?sh:oh}}}return height};goog.dom.getPageScroll=function(opt_window){var win=opt_window||goog.global||window;return goog.dom.getDomHelper(win.document).getDocumentScroll()};goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)};goog.dom.getDocumentScroll_=function(doc){var el=goog.dom.getDocumentScrollElement_(doc),win=goog.dom.getWindow_(doc);if(goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&win.pageYOffset!=el.scrollTop){return new goog.math.Coordinate(el.scrollLeft,el.scrollTop)}return new goog.math.Coordinate(win.pageXOffset||el.scrollLeft,win.pageYOffset||el.scrollTop)};goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)};goog.dom.getDocumentScrollElement_=function(doc){if(doc.scrollingElement){return doc.scrollingElement}if(!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(doc)){return doc.documentElement}return doc.body||doc.documentElement};goog.dom.getWindow=function(opt_doc){return opt_doc?goog.dom.getWindow_(opt_doc):window};goog.dom.getWindow_=function(doc){return doc.parentWindow||doc.defaultView};goog.dom.createDom=function(tagName,opt_properties,var_args){return goog.dom.createDom_(document,arguments)};goog.dom.createDom_=function(doc,args){var tagName=args[0]+"",attributes=args[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&attributes&&(attributes.name||attributes.type)){var tagNameArr=["<",tagName];if(attributes.name){tagNameArr.push(" name=\"",goog.string.htmlEscape(attributes.name),"\"")}if(attributes.type){tagNameArr.push(" type=\"",goog.string.htmlEscape(attributes.type),"\"");var clone={};goog.object.extend(clone,attributes);delete clone.type;attributes=clone}tagNameArr.push(">");tagName=tagNameArr.join("")}var element=doc.createElement(tagName);if(attributes){if(goog.isString(attributes)){element.className=attributes}else if(goog.isArray(attributes)){element.className=attributes.join(" ")}else{goog.dom.setProperties(element,attributes)}}if(2<args.length){goog.dom.append_(doc,element,args,2)}return element};goog.dom.append_=function(doc,parent,args,startIndex){function childHandler(child){if(child){parent.appendChild(goog.isString(child)?doc.createTextNode(child):child)}}for(var i=startIndex,arg;i<args.length;i++){arg=args[i];if(goog.isArrayLike(arg)&&!goog.dom.isNodeLike(arg)){goog.array.forEach(goog.dom.isNodeList(arg)?goog.array.toArray(arg):arg,childHandler)}else{childHandler(arg)}}};goog.dom.$dom=goog.dom.createDom;goog.dom.createElement=function(name){return goog.dom.createElement_(document,name)};goog.dom.createElement_=function(doc,name){return doc.createElement(name+"")};goog.dom.createTextNode=function(content){return document.createTextNode(content+"")};goog.dom.createTable=function(rows,columns,opt_fillWithNbsp){return goog.dom.createTable_(document,rows,columns,!!opt_fillWithNbsp)};goog.dom.createTable_=function(doc,rows,columns,fillWithNbsp){for(var table=goog.dom.createElement_(doc,goog.dom.TagName.TABLE),tbody=table.appendChild(goog.dom.createElement_(doc,goog.dom.TagName.TBODY)),i=0,tr;i<rows;i++){tr=goog.dom.createElement_(doc,goog.dom.TagName.TR);for(var j=0,td;j<columns;j++){td=goog.dom.createElement_(doc,goog.dom.TagName.TD);if(fillWithNbsp){goog.dom.setTextContent(td,goog.string.Unicode.NBSP)}tr.appendChild(td)}tbody.appendChild(tr)}return table};goog.dom.constHtmlToNode=function(var_args){var stringArray=goog.array.map(arguments,goog.string.Const.unwrap),safeHtml=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML string, that gets turned into a "+"Node later, so it will be automatically balanced."),stringArray.join(""));return goog.dom.safeHtmlToNode(safeHtml)};goog.dom.safeHtmlToNode=function(html){return goog.dom.safeHtmlToNode_(document,html)};goog.dom.safeHtmlToNode_=function(doc,html){var tempDiv=goog.dom.createElement_(doc,goog.dom.TagName.DIV);if(goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT){goog.dom.safe.setInnerHtml(tempDiv,goog.html.SafeHtml.concat(goog.html.SafeHtml.BR,html));tempDiv.removeChild(tempDiv.firstChild)}else{goog.dom.safe.setInnerHtml(tempDiv,html)}return goog.dom.childrenToNode_(doc,tempDiv)};goog.dom.childrenToNode_=function(doc,tempDiv){if(1==tempDiv.childNodes.length){return tempDiv.removeChild(tempDiv.firstChild)}else{var fragment=doc.createDocumentFragment();while(tempDiv.firstChild){fragment.appendChild(tempDiv.firstChild)}return fragment}};goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)};goog.dom.isCss1CompatMode_=function(doc){if(goog.dom.COMPAT_MODE_KNOWN_){return goog.dom.ASSUME_STANDARDS_MODE}return"CSS1Compat"==doc.compatMode};goog.dom.canHaveChildren=function(node){if(node.nodeType!=goog.dom.NodeType.ELEMENT){return!1}switch(node.tagName){case goog.dom.TagName.APPLET+"":case goog.dom.TagName.AREA+"":case goog.dom.TagName.BASE+"":case goog.dom.TagName.BR+"":case goog.dom.TagName.COL+"":case goog.dom.TagName.COMMAND+"":case goog.dom.TagName.EMBED+"":case goog.dom.TagName.FRAME+"":case goog.dom.TagName.HR+"":case goog.dom.TagName.IMG+"":case goog.dom.TagName.INPUT+"":case goog.dom.TagName.IFRAME+"":case goog.dom.TagName.ISINDEX+"":case goog.dom.TagName.KEYGEN+"":case goog.dom.TagName.LINK+"":case goog.dom.TagName.NOFRAMES+"":case goog.dom.TagName.NOSCRIPT+"":case goog.dom.TagName.META+"":case goog.dom.TagName.OBJECT+"":case goog.dom.TagName.PARAM+"":case goog.dom.TagName.SCRIPT+"":case goog.dom.TagName.SOURCE+"":case goog.dom.TagName.STYLE+"":case goog.dom.TagName.TRACK+"":case goog.dom.TagName.WBR+"":return!1;}return!0};goog.dom.appendChild=function(parent,child){parent.appendChild(child)};goog.dom.append=function(parent,var_args){goog.dom.append_(goog.dom.getOwnerDocument(parent),parent,arguments,1)};goog.dom.removeChildren=function(node){var child;while(child=node.firstChild){node.removeChild(child)}};goog.dom.insertSiblingBefore=function(newNode,refNode){if(refNode.parentNode){refNode.parentNode.insertBefore(newNode,refNode)}};goog.dom.insertSiblingAfter=function(newNode,refNode){if(refNode.parentNode){refNode.parentNode.insertBefore(newNode,refNode.nextSibling)}};goog.dom.insertChildAt=function(parent,child,index){parent.insertBefore(child,parent.childNodes[index]||null)};goog.dom.removeNode=function(node){return node&&node.parentNode?node.parentNode.removeChild(node):null};goog.dom.replaceNode=function(newNode,oldNode){var parent=oldNode.parentNode;if(parent){parent.replaceChild(newNode,oldNode)}};goog.dom.flattenElement=function(element){var child,parent=element.parentNode;if(parent&&parent.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(element.removeNode){return element.removeNode(!1)}else{while(child=element.firstChild){parent.insertBefore(child,element)}return goog.dom.removeNode(element)}}};goog.dom.getChildren=function(element){if(goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&element.children!=void 0){return element.children}return goog.array.filter(element.childNodes,function(node){return node.nodeType==goog.dom.NodeType.ELEMENT})};goog.dom.getFirstElementChild=function(node){if(goog.isDef(node.firstElementChild)){return node.firstElementChild}return goog.dom.getNextElementNode_(node.firstChild,!0)};goog.dom.getLastElementChild=function(node){if(goog.isDef(node.lastElementChild)){return node.lastElementChild}return goog.dom.getNextElementNode_(node.lastChild,!1)};goog.dom.getNextElementSibling=function(node){if(goog.isDef(node.nextElementSibling)){return node.nextElementSibling}return goog.dom.getNextElementNode_(node.nextSibling,!0)};goog.dom.getPreviousElementSibling=function(node){if(goog.isDef(node.previousElementSibling)){return node.previousElementSibling}return goog.dom.getNextElementNode_(node.previousSibling,!1)};goog.dom.getNextElementNode_=function(node,forward){while(node&&node.nodeType!=goog.dom.NodeType.ELEMENT){node=forward?node.nextSibling:node.previousSibling}return node};goog.dom.getNextNode=function(node){if(!node){return null}if(node.firstChild){return node.firstChild}while(node&&!node.nextSibling){node=node.parentNode}return node?node.nextSibling:null};goog.dom.getPreviousNode=function(node){if(!node){return null}if(!node.previousSibling){return node.parentNode}node=node.previousSibling;while(node&&node.lastChild){node=node.lastChild}return node};goog.dom.isNodeLike=function(obj){return goog.isObject(obj)&&0<obj.nodeType};goog.dom.isElement=function(obj){return goog.isObject(obj)&&obj.nodeType==goog.dom.NodeType.ELEMENT};goog.dom.isWindow=function(obj){return goog.isObject(obj)&&obj.window==obj};goog.dom.getParentElement=function(element){var parent;if(goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY){var isIe9=goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10");if(!(isIe9&&goog.global.SVGElement&&element instanceof goog.global.SVGElement)){parent=element.parentElement;if(parent){return parent}}}parent=element.parentNode;return goog.dom.isElement(parent)?parent:null};goog.dom.contains=function(parent,descendant){if(!parent||!descendant){return!1}if(parent.contains&&descendant.nodeType==goog.dom.NodeType.ELEMENT){return parent==descendant||parent.contains(descendant)}if("undefined"!=typeof parent.compareDocumentPosition){return parent==descendant||!!(16&parent.compareDocumentPosition(descendant))}while(descendant&&parent!=descendant){descendant=descendant.parentNode}return descendant==parent};goog.dom.compareNodeOrder=function(node1,node2){if(node1==node2){return 0}if(node1.compareDocumentPosition){return 2&node1.compareDocumentPosition(node2)?1:-1}if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(node1.nodeType==goog.dom.NodeType.DOCUMENT){return-1}if(node2.nodeType==goog.dom.NodeType.DOCUMENT){return 1}}if("sourceIndex"in node1||node1.parentNode&&"sourceIndex"in node1.parentNode){var isElement1=node1.nodeType==goog.dom.NodeType.ELEMENT,isElement2=node2.nodeType==goog.dom.NodeType.ELEMENT;if(isElement1&&isElement2){return node1.sourceIndex-node2.sourceIndex}else{var parent1=node1.parentNode,parent2=node2.parentNode;if(parent1==parent2){return goog.dom.compareSiblingOrder_(node1,node2)}if(!isElement1&&goog.dom.contains(parent1,node2)){return-1*goog.dom.compareParentsDescendantNodeIe_(node1,node2)}if(!isElement2&&goog.dom.contains(parent2,node1)){return goog.dom.compareParentsDescendantNodeIe_(node2,node1)}return(isElement1?node1.sourceIndex:parent1.sourceIndex)-(isElement2?node2.sourceIndex:parent2.sourceIndex)}}var doc=goog.dom.getOwnerDocument(node1),range1,range2;range1=doc.createRange();range1.selectNode(node1);range1.collapse(!0);range2=doc.createRange();range2.selectNode(node2);range2.collapse(!0);return range1.compareBoundaryPoints(goog.global.Range.START_TO_END,range2)};goog.dom.compareParentsDescendantNodeIe_=function(textNode,node){var parent=textNode.parentNode;if(parent==node){return-1}var sibling=node;while(sibling.parentNode!=parent){sibling=sibling.parentNode}return goog.dom.compareSiblingOrder_(sibling,textNode)};goog.dom.compareSiblingOrder_=function(node1,node2){var s=node2;while(s=s.previousSibling){if(s==node1){return-1}}return 1};goog.dom.findCommonAncestor=function(var_args){var i,count=arguments.length;if(!count){return null}else if(1==count){return arguments[0]}var paths=[],minLength=1/0;for(i=0;i<count;i++){var ancestors=[],node=arguments[i];while(node){ancestors.unshift(node);node=node.parentNode}paths.push(ancestors);minLength=Math.min(minLength,ancestors.length)}var output=null;for(i=0;i<minLength;i++){for(var first=paths[0][i],j=1;j<count;j++){if(first!=paths[j][i]){return output}}output=first}return output};goog.dom.getOwnerDocument=function(node){goog.asserts.assert(node,"Node cannot be null or undefined.");return node.nodeType==goog.dom.NodeType.DOCUMENT?node:node.ownerDocument||node.document};goog.dom.getFrameContentDocument=function(frame){return frame.contentDocument||frame.contentWindow.document};goog.dom.getFrameContentWindow=function(frame){try{return frame.contentWindow||(frame.contentDocument?goog.dom.getWindow(frame.contentDocument):null)}catch(e){}return null};goog.dom.setTextContent=function(node,text){goog.asserts.assert(null!=node,"goog.dom.setTextContent expects a non-null value for node");if("textContent"in node){node.textContent=text}else if(node.nodeType==goog.dom.NodeType.TEXT){node.data=text}else if(node.firstChild&&node.firstChild.nodeType==goog.dom.NodeType.TEXT){while(node.lastChild!=node.firstChild){node.removeChild(node.lastChild)}node.firstChild.data=text}else{goog.dom.removeChildren(node);var doc=goog.dom.getOwnerDocument(node);node.appendChild(doc.createTextNode(text+""))}};goog.dom.getOuterHtml=function(element){goog.asserts.assert(null!==element,"goog.dom.getOuterHtml expects a non-null value for element");if("outerHTML"in element){return element.outerHTML}else{var doc=goog.dom.getOwnerDocument(element),div=goog.dom.createElement_(doc,goog.dom.TagName.DIV);div.appendChild(element.cloneNode(!0));return div.innerHTML}};goog.dom.findNode=function(root,p){var rv=[],found=goog.dom.findNodes_(root,p,rv,!0);return found?rv[0]:void 0};goog.dom.findNodes=function(root,p){var rv=[];goog.dom.findNodes_(root,p,rv,!1);return rv};goog.dom.findNodes_=function(root,p,rv,findOne){if(null!=root){var child=root.firstChild;while(child){if(p(child)){rv.push(child);if(findOne){return!0}}if(goog.dom.findNodes_(child,p,rv,findOne)){return!0}child=child.nextSibling}}return!1};goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1};goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"};goog.dom.isFocusableTabIndex=function(element){return goog.dom.hasSpecifiedTabIndex_(element)&&goog.dom.isTabIndexFocusable_(element)};goog.dom.setFocusableTabIndex=function(element,enable){if(enable){element.tabIndex=0}else{element.tabIndex=-1;element.removeAttribute("tabIndex")}};goog.dom.isFocusable=function(element){var focusable;if(goog.dom.nativelySupportsFocus_(element)){focusable=!element.disabled&&(!goog.dom.hasSpecifiedTabIndex_(element)||goog.dom.isTabIndexFocusable_(element))}else{focusable=goog.dom.isFocusableTabIndex(element)}return focusable&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(element):focusable};goog.dom.hasSpecifiedTabIndex_=function(element){if(goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9")){var attrNode=element.getAttributeNode("tabindex");return goog.isDefAndNotNull(attrNode)&&attrNode.specified}else{return element.hasAttribute("tabindex")}};goog.dom.isTabIndexFocusable_=function(element){var index=element.tabIndex;return goog.isNumber(index)&&0<=index&&32768>index};goog.dom.nativelySupportsFocus_=function(element){return element.tagName==goog.dom.TagName.A||element.tagName==goog.dom.TagName.INPUT||element.tagName==goog.dom.TagName.TEXTAREA||element.tagName==goog.dom.TagName.SELECT||element.tagName==goog.dom.TagName.BUTTON};goog.dom.hasNonZeroBoundingRect_=function(element){var rect;if(!goog.isFunction(element.getBoundingClientRect)||goog.userAgent.IE&&null==element.parentElement){rect={height:element.offsetHeight,width:element.offsetWidth}}else{rect=element.getBoundingClientRect()}return goog.isDefAndNotNull(rect)&&0<rect.height&&0<rect.width};goog.dom.getTextContent=function(node){var textContent;if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&null!==node&&"innerText"in node){textContent=goog.string.canonicalizeNewlines(node.innerText)}else{var buf=[];goog.dom.getTextContent_(node,buf,!0);textContent=buf.join("")}textContent=textContent.replace(/ \xAD /g," ").replace(/\xAD/g,"");textContent=textContent.replace(/\u200B/g,"");if(!goog.dom.BrowserFeature.CAN_USE_INNER_TEXT){textContent=textContent.replace(/ +/g," ")}if(" "!=textContent){textContent=textContent.replace(/^\s*/,"")}return textContent};goog.dom.getRawTextContent=function(node){var buf=[];goog.dom.getTextContent_(node,buf,!1);return buf.join("")};goog.dom.getTextContent_=function(node,buf,normalizeWhitespace){if(node.nodeName in goog.dom.TAGS_TO_IGNORE_){}else if(node.nodeType==goog.dom.NodeType.TEXT){if(normalizeWhitespace){buf.push((node.nodeValue+"").replace(/(\r\n|\r|\n)/g,""))}else{buf.push(node.nodeValue)}}else if(node.nodeName in goog.dom.PREDEFINED_TAG_VALUES_){buf.push(goog.dom.PREDEFINED_TAG_VALUES_[node.nodeName])}else{var child=node.firstChild;while(child){goog.dom.getTextContent_(child,buf,normalizeWhitespace);child=child.nextSibling}}};goog.dom.getNodeTextLength=function(node){return goog.dom.getTextContent(node).length};goog.dom.getNodeTextOffset=function(node,opt_offsetParent){var root=opt_offsetParent||goog.dom.getOwnerDocument(node).body,buf=[];while(node&&node!=root){var cur=node;while(cur=cur.previousSibling){buf.unshift(goog.dom.getTextContent(cur))}node=node.parentNode}return goog.string.trimLeft(buf.join("")).replace(/ +/g," ").length};goog.dom.getNodeAtOffset=function(parent,offset,opt_result){var stack=[parent],pos=0,cur=null;while(0<stack.length&&pos<offset){cur=stack.pop();if(cur.nodeName in goog.dom.TAGS_TO_IGNORE_){}else if(cur.nodeType==goog.dom.NodeType.TEXT){var text=cur.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");pos+=text.length}else if(cur.nodeName in goog.dom.PREDEFINED_TAG_VALUES_){pos+=goog.dom.PREDEFINED_TAG_VALUES_[cur.nodeName].length}else{for(var i=cur.childNodes.length-1;0<=i;i--){stack.push(cur.childNodes[i])}}}if(goog.isObject(opt_result)){opt_result.remainder=cur?cur.nodeValue.length+offset-pos-1:0;opt_result.node=cur}return cur};goog.dom.isNodeList=function(val){if(val&&"number"==typeof val.length){if(goog.isObject(val)){return"function"==typeof val.item||"string"==typeof val.item}else if(goog.isFunction(val)){return"function"==typeof val.item}}return!1};goog.dom.getAncestorByTagNameAndClass=function(element,opt_tag,opt_class,opt_maxSearchSteps){if(!opt_tag&&!opt_class){return null}var tagName=opt_tag?(opt_tag+"").toUpperCase():null;return goog.dom.getAncestor(element,function(node){return(!tagName||node.nodeName==tagName)&&(!opt_class||goog.isString(node.className)&&goog.array.contains(node.className.split(/\s+/),opt_class))},!0,opt_maxSearchSteps)};goog.dom.getAncestorByClass=function(element,className,opt_maxSearchSteps){return goog.dom.getAncestorByTagNameAndClass(element,null,className,opt_maxSearchSteps)};goog.dom.getAncestor=function(element,matcher,opt_includeNode,opt_maxSearchSteps){if(element&&!opt_includeNode){element=element.parentNode}var steps=0;while(element&&(null==opt_maxSearchSteps||steps<=opt_maxSearchSteps)){goog.asserts.assert("parentNode"!=element.name);if(matcher(element)){return element}element=element.parentNode;steps++}return null};goog.dom.getActiveElement=function(doc){try{return doc&&doc.activeElement}catch(e){}return null};goog.dom.getPixelRatio=function(){var win=goog.dom.getWindow();if(goog.isDef(win.devicePixelRatio)){return win.devicePixelRatio}else if(win.matchMedia){return goog.dom.matchesPixelRatio_(3)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(1)||.75}return 1};goog.dom.matchesPixelRatio_=function(pixelRatio){var win=goog.dom.getWindow(),dpiPerDppx=96,query="(min-resolution: "+pixelRatio+"dppx),"+"(min--moz-device-pixel-ratio: "+pixelRatio+"),"+"(min-resolution: "+pixelRatio*dpiPerDppx+"dpi)";return win.matchMedia(query).matches?pixelRatio:0};goog.dom.getCanvasContext2D=function(canvas){return canvas.getContext("2d")};goog.dom.DomHelper=function(opt_document){this.document_=opt_document||goog.global.document||document};goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper;goog.dom.DomHelper.prototype.setDocument=function(document){this.document_=document};goog.dom.DomHelper.prototype.getDocument=function(){return this.document_};goog.dom.DomHelper.prototype.getElement=function(element){return goog.dom.getElementHelper_(this.document_,element)};goog.dom.DomHelper.prototype.getRequiredElement=function(id){return goog.dom.getRequiredElementHelper_(this.document_,id)};goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement;goog.dom.DomHelper.prototype.getElementsByTagName=function(tagName,opt_parent){var parent=opt_parent||this.document_;return parent.getElementsByTagName(tagName+"")};goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(opt_tag,opt_class,opt_el){return goog.dom.getElementsByTagNameAndClass_(this.document_,opt_tag,opt_class,opt_el)};goog.dom.DomHelper.prototype.getElementsByClass=function(className,opt_el){var doc=opt_el||this.document_;return goog.dom.getElementsByClass(className,doc)};goog.dom.DomHelper.prototype.getElementByClass=function(className,opt_el){var doc=opt_el||this.document_;return goog.dom.getElementByClass(className,doc)};goog.dom.DomHelper.prototype.getRequiredElementByClass=function(className,opt_root){var root=opt_root||this.document_;return goog.dom.getRequiredElementByClass(className,root)};goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties;goog.dom.DomHelper.prototype.getViewportSize=function(opt_window){return goog.dom.getViewportSize(opt_window||this.getWindow())};goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())};goog.dom.Appendable;goog.dom.DomHelper.prototype.createDom=function(tagName,opt_attributes,var_args){return goog.dom.createDom_(this.document_,arguments)};goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom;goog.dom.DomHelper.prototype.createElement=function(name){return goog.dom.createElement_(this.document_,name)};goog.dom.DomHelper.prototype.createTextNode=function(content){return this.document_.createTextNode(content+"")};goog.dom.DomHelper.prototype.createTable=function(rows,columns,opt_fillWithNbsp){return goog.dom.createTable_(this.document_,rows,columns,!!opt_fillWithNbsp)};goog.dom.DomHelper.prototype.safeHtmlToNode=function(html){return goog.dom.safeHtmlToNode_(this.document_,html)};goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)};goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)};goog.dom.DomHelper.prototype.getActiveElement=function(opt_doc){return goog.dom.getActiveElement(opt_doc||this.document_)};goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild;goog.dom.DomHelper.prototype.append=goog.dom.append;goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren;goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren;goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore;goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter;goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt;goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode;goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode;goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement;goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren;goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild;goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild;goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling;goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling;goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode;goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode;goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike;goog.dom.DomHelper.prototype.isElement=goog.dom.isElement;goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow;goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement;goog.dom.DomHelper.prototype.contains=goog.dom.contains;goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder;goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor;goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument;goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument;goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow;goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent;goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml;goog.dom.DomHelper.prototype.findNode=goog.dom.findNode;goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes;goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex;goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex;goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable;goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent;goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength;goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset;goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset;goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList;goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass;goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass;goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor;goog.dom.DomHelper.prototype.getCanvasContext2D=goog.dom.getCanvasContext2D;