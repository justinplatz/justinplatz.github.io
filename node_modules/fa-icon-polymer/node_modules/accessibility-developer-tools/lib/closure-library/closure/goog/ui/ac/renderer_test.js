goog.provide("goog.ui.ac.RendererTest");goog.setTestOnly("goog.ui.ac.RendererTest");goog.require("goog.a11y.aria");goog.require("goog.a11y.aria.State");goog.require("goog.dom");goog.require("goog.dom.TagName");goog.require("goog.dom.classlist");goog.require("goog.events");goog.require("goog.fx.dom.FadeInAndShow");goog.require("goog.fx.dom.FadeOutAndHide");goog.require("goog.string");goog.require("goog.style");goog.require("goog.testing.PropertyReplacer");goog.require("goog.testing.jsunit");goog.require("goog.ui.ac.AutoComplete");goog.require("goog.ui.ac.Renderer");var renderer,rendRows=[],someElement,target,viewport,viewportTarget,widthProvder,propertyReplacer;function setUpPage(){someElement=goog.dom.getElement("someElement");target=goog.dom.getElement("target");viewport=goog.dom.getElement("viewport");viewportTarget=goog.dom.getElement("viewportTarget");widthProvder=goog.dom.getElement("widthProvider");propertyReplacer=new goog.testing.PropertyReplacer}for(var rows=["Amanda Annie Anderson","Frankie Manning","Louis D Armstrong","Foo Bar................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................","<div><div>test</div></div>","<div><div>test1</div><div>test2</div></div>","<div>random test string<div>test1</div><div><div>test2</div><div>test3</div></div></div>"],i=0;i<rows.length;i++){rendRows.push({id:i,data:rows[i]})}function setUp(){renderer=new goog.ui.ac.Renderer;renderer.rowDivs_=[];renderer.target_=target}function tearDown(){renderer.dispose();propertyReplacer.reset()}function testBasicMatchingWithHtmlRow(){var row=rendRows[4],token="te";enableHtmlRendering(renderer);var node=renderer.renderRowHtml(row,token),boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1)}function testShouldMatchOnlyOncePerDefaultWithComplexHtmlStrings(){var row=rendRows[5],token="te";enableHtmlRendering(renderer);var node=renderer.renderRowHtml(row,token),boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1)}function testShouldMatchMultipleTimesWithComplexHtmlStrings(){renderer.setHighlightAllTokens(!0);var row=rendRows[5],token="te";enableHtmlRendering(renderer);var node=renderer.renderRowHtml(row,token),boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,2);row=rendRows[6];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,4)}function testBasicStringTokenHighlightingUsingUniversalMatching(){var row=rendRows[0];renderer.setMatchWordBoundary(!1);var token="A",node=renderer.renderRowHtml(row,token),boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"");assertHighlightedText(boldTagElArray[0],"A");assertLastNodeText(node,"manda Annie Anderson");var token="an",node=renderer.renderRowHtml(row,token),boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"Am");assertHighlightedText(boldTagElArray[0],"an");assertLastNodeText(node,"da Annie Anderson");token="";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Amanda Annie Anderson");token=" an";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Amanda Annie Anderson")}function testBasicStringTokenHighlighting(){var row=rendRows[0],token="A",node=renderer.renderRowHtml(row,token),boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"");assertHighlightedText(boldTagElArray[0],"A");assertLastNodeText(node,"manda Annie Anderson");token="";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Amanda Annie Anderson");token="an";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"Amanda ");assertHighlightedText(boldTagElArray[0],"An");assertLastNodeText(node,"nie Anderson");token=" ";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Amanda Annie Anderson");token=" an";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Amanda Annie Anderson");token="annie ";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"Amanda ");assertHighlightedText(boldTagElArray[0],"Annie ");assertLastNodeText(node,"Anderson");row=rendRows[2];token="d a";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"Louis ");assertHighlightedText(boldTagElArray[0],"D A");assertLastNodeText(node,"rmstrong");token="aRmStRoNg";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"Louis D ");assertHighlightedText(boldTagElArray[0],"Armstrong");assertLastNodeText(node,"")}function testPathologicalInput(){var row=rendRows[3],token="foo",node=renderer.renderRowHtml(row,token),boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertHighlightedText(boldTagElArray[0],"Foo");assert(goog.string.startsWith(boldTagElArray[0].nextSibling.nodeValue," Bar..."))}function testBasicArrayTokenHighlighting(){var row=rendRows[1],token=["f","m"],node=renderer.renderRowHtml(row,token),boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"");assertHighlightedText(boldTagElArray[0],"F");assertLastNodeText(node,"rankie Manning");token=["m","f"];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"Frankie ");assertHighlightedText(boldTagElArray[0],"M");assertLastNodeText(node,"anning");token=["asdf","f"];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"");assertHighlightedText(boldTagElArray[0],"F");assertLastNodeText(node,"rankie Manning");token=["Foo","bar","baz"];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Frankie Manning");token=[];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Frankie Manning");token=[""];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Frankie Manning");token=[" "];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Frankie Manning");token=[" ","man"];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"Frankie ");assertHighlightedText(boldTagElArray[0],"Man");assertLastNodeText(node,"ning");row=rendRows[2];token=["d arm","lou"];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"Louis ");assertHighlightedText(boldTagElArray[0],"D Arm");assertLastNodeText(node,"strong")}function testHighlightAllTokensSingleTokenHighlighting(){renderer.setHighlightAllTokens(!0);var row=rendRows[0],token="a",node=renderer.renderRowHtml(row,token),boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,3);assertPreviousNodeText(boldTagElArray[0],"");assertHighlightedText(boldTagElArray[0],"A");assertPreviousNodeText(boldTagElArray[1],"manda ");assertHighlightedText(boldTagElArray[1],"A");assertPreviousNodeText(boldTagElArray[2],"nnie ");assertHighlightedText(boldTagElArray[2],"A");assertLastNodeText(node,"nderson");token="";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Amanda Annie Anderson");token="AN";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,2);assertPreviousNodeText(boldTagElArray[0],"Amanda ");assertHighlightedText(boldTagElArray[0],"An");assertPreviousNodeText(boldTagElArray[1],"nie ");assertHighlightedText(boldTagElArray[1],"An");assertLastNodeText(node,"derson");token=" ";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Amanda Annie Anderson");token="  am";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"");assertHighlightedText(boldTagElArray[0],"Am");assertLastNodeText(node,"anda Annie Anderson");token="ann   ";node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"Amanda ");assertHighlightedText(boldTagElArray[0],"Ann");assertLastNodeText(node,"ie Anderson")}function testHighlightAllTokensMultipleStringTokenHighlighting(){renderer.setHighlightAllTokens(!0);var row=rendRows[1],token="m F",node=renderer.renderRowHtml(row,token),boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,2);assertPreviousNodeText(boldTagElArray[0],"");assertHighlightedText(boldTagElArray[0],"F");assertPreviousNodeText(boldTagElArray[1],"rankie ");assertHighlightedText(boldTagElArray[1],"M");assertLastNodeText(node,"anning")}function testHighlightAllTokensArrayTokenHighlighting(){renderer.setHighlightAllTokens(!0);var row=rendRows[0],token=["AM","AN"],node=renderer.renderRowHtml(row,token),boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,3);assertPreviousNodeText(boldTagElArray[0],"");assertHighlightedText(boldTagElArray[0],"Am");assertPreviousNodeText(boldTagElArray[1],"anda ");assertHighlightedText(boldTagElArray[1],"An");assertPreviousNodeText(boldTagElArray[2],"nie ");assertHighlightedText(boldTagElArray[2],"An");assertLastNodeText(node,"derson");token=[];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Amanda Annie Anderson");token=[""];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Amanda Annie Anderson");token=[" "];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,0);assertLastNodeText(node,"Amanda Annie Anderson");token=["","Ann"];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"Amanda ");assertHighlightedText(boldTagElArray[0],"Ann");assertLastNodeText(node,"ie Anderson");token=[" ","And"];node=renderer.renderRowHtml(row,token);boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,1);assertPreviousNodeText(boldTagElArray[0],"Amanda Annie ");assertHighlightedText(boldTagElArray[0],"And");assertLastNodeText(node,"erson");token=["annie a","Am"];node=renderer.renderRowHtml(row,token);var boldTagElArray=goog.dom.getElementsByTagName(goog.dom.TagName.B,node);assertNumBoldTags(boldTagElArray,2);assertPreviousNodeText(boldTagElArray[0],"");assertHighlightedText(boldTagElArray[0],"Am");assertPreviousNodeText(boldTagElArray[1],"anda ");assertHighlightedText(boldTagElArray[1],"Annie A");assertLastNodeText(node,"nderson")}function testMenuFadeDuration(){renderer.maybeCreateElement_();var hideCalled=!1,hideAnimCalled=!1,showCalled=!1,showAnimCalled=!1;propertyReplacer.set(goog.style,"setElementShown",function(el,state){if(state){showCalled=!0}else{hideCalled=!0}});propertyReplacer.set(goog.fx.dom.FadeInAndShow.prototype,"play",function(){showAnimCalled=!0});propertyReplacer.set(goog.fx.dom.FadeOutAndHide.prototype,"play",function(){hideAnimCalled=!0});renderer.show();assertTrue(showCalled);assertFalse(showAnimCalled);renderer.dismiss();assertTrue(hideCalled);assertFalse(hideAnimCalled);showCalled=!1;hideCalled=!1;renderer.setMenuFadeDuration(100);renderer.show();assertFalse(showCalled);assertTrue(showAnimCalled);renderer.dismiss();assertFalse(hideCalled);assertTrue(hideAnimCalled)}function testAriaTags(){renderer.maybeCreateElement_();assertNotNull(target);assertEvaluatesToFalse("The role should be empty.",goog.a11y.aria.getRole(target));assertEquals("",goog.a11y.aria.getState(target,goog.a11y.aria.State.HASPOPUP));assertEquals("",goog.a11y.aria.getState(renderer.getElement(),goog.a11y.aria.State.EXPANDED));assertEquals("",goog.a11y.aria.getState(target,goog.a11y.aria.State.OWNS));renderer.show();assertEquals("true",goog.a11y.aria.getState(target,goog.a11y.aria.State.HASPOPUP));assertEquals("true",goog.a11y.aria.getState(target,goog.a11y.aria.State.EXPANDED));assertEquals("true",goog.a11y.aria.getState(renderer.getElement(),goog.a11y.aria.State.EXPANDED));assertEquals(renderer.getElement().id,goog.a11y.aria.getState(target,goog.a11y.aria.State.OWNS));renderer.dismiss();assertEquals("false",goog.a11y.aria.getState(target,goog.a11y.aria.State.HASPOPUP));assertEquals("false",goog.a11y.aria.getState(target,goog.a11y.aria.State.EXPANDED));assertEquals("false",goog.a11y.aria.getState(renderer.getElement(),goog.a11y.aria.State.EXPANDED));assertEquals("",goog.a11y.aria.getState(target,goog.a11y.aria.State.OWNS))}function testHiliteRowWithDefaultRenderer(){renderer.renderRows(rendRows,"");renderer.hiliteRow(2);assertEquals(2,renderer.hilitedRow_);assertTrue(goog.dom.classlist.contains(renderer.rowDivs_[2],renderer.activeClassName))}function testHiliteRowWithCustomRenderer(){goog.dispose(renderer);var customRenderer={render:function(renderer,element,rows,token){var resultsHolder=goog.dom.createDom(goog.dom.TagName.DIV);goog.dom.appendChild(element,resultsHolder);for(var i=0,row,node;row=rows[i];++i){node=renderer.renderRowHtml(row,token);goog.dom.appendChild(resultsHolder,node)}}};renderer=new goog.ui.ac.Renderer(null,customRenderer);renderer.renderRows(rendRows,"");renderer.hiliteRow(2);assertEquals(2,renderer.hilitedRow_);assertTrue(goog.dom.classlist.contains(renderer.rowDivs_[2],renderer.activeClassName))}function testReposition(){renderer.renderRows(rendRows,"",target);var el=renderer.getElement();el.style.position="absolute";el.style.width="100px";renderer.setAutoPosition(!0);renderer.redraw();var rendererOffset=goog.style.getPageOffset(renderer.getElement()),rendererSize=goog.style.getSize(renderer.getElement()),targetOffset=goog.style.getPageOffset(target),targetSize=goog.style.getSize(target);assertEquals(0+targetOffset.x,rendererOffset.x);assertRoughlyEquals(targetOffset.y+targetSize.height,rendererOffset.y,1)}function testSetWidthProvider(){renderer.setWidthProvider(widthProvder);renderer.renderRows(rendRows,"");var el=renderer.getElement();el.style.width="1px";renderer.redraw();var rendererSize=goog.style.getSize(el),widthProviderSize=goog.style.getSize(widthProvder);assertEquals(rendererSize.width,widthProviderSize.width)}function testSetWidthProviderWithBorderWidth(){var borderWidth=5;renderer.setWidthProvider(widthProvder,borderWidth);renderer.renderRows(rendRows,"");var el=renderer.getElement();el.style.width="1px";renderer.redraw();var rendererSize=goog.style.getSize(el),widthProviderSize=goog.style.getSize(widthProvder);assertEquals(rendererSize.width,widthProviderSize.width-borderWidth)}function testRepositionWithRightAlign(){renderer.renderRows(rendRows,"",target);var el=renderer.getElement();el.style.position="absolute";el.style.width="150px";renderer.setAutoPosition(!0);renderer.setRightAlign(!0);renderer.redraw();var rendererOffset=goog.style.getPageOffset(renderer.getElement()),rendererSize=goog.style.getSize(renderer.getElement()),targetOffset=goog.style.getPageOffset(target),targetSize=goog.style.getSize(target);assertRoughlyEquals(targetOffset.x+targetSize.width,rendererOffset.x+rendererSize.width,1);assertRoughlyEquals(targetOffset.y+targetSize.height,rendererOffset.y,1)}function testRepositionResizeHeight(){renderer=new goog.ui.ac.Renderer(viewport);renderer.renderRows(rendRows.slice(0,4),"",viewportTarget);renderer.setAutoPosition(!0);renderer.setShowScrollbarsIfTooLarge(!0);var hugeRow=goog.dom.createDom(goog.dom.TagName.DIV,{style:"height:1000px"});goog.dom.appendChild(renderer.getElement(),hugeRow);renderer.reposition();var rendererOffset=goog.style.getPageOffset(renderer.getElement()),rendererSize=goog.style.getSize(renderer.getElement()),viewportOffset=goog.style.getPageOffset(viewport),viewportSize=goog.style.getSize(viewport);assertRoughlyEquals(viewportOffset.y+viewportSize.height,rendererSize.height+rendererOffset.y,1);renderer.getElement().removeChild(hugeRow);renderer.reposition();rendererOffset=goog.style.getPageOffset(renderer.getElement());rendererSize=goog.style.getSize(renderer.getElement());viewportOffset=goog.style.getPageOffset(viewport);viewportSize=goog.style.getSize(viewport);assertTrue(rendererSize.height+rendererOffset.y<viewportOffset.y+viewportSize.height)}function testHiliteEvent(){renderer.renderRows(rendRows,"");var hiliteEventFired=!1;goog.events.listenOnce(renderer,goog.ui.ac.AutoComplete.EventType.ROW_HILITE,function(e){hiliteEventFired=!0;assertEquals(e.row,rendRows[1].data)});renderer.hiliteRow(1);assertTrue(hiliteEventFired);hiliteEventFired=!1;goog.events.listenOnce(renderer,goog.ui.ac.AutoComplete.EventType.ROW_HILITE,function(e){hiliteEventFired=!0;assertNull(e.row)});renderer.hiliteRow(rendRows.length);assertTrue(hiliteEventFired)}function enableHtmlRendering(renderer){renderer.customRenderer_={renderRow:function(row,token,node){node.innerHTML=row.data.toString()}}}function assertNumBoldTags(boldTagElArray,expectedNum){assertEquals("Incorrect number of bold tags",expectedNum,boldTagElArray.length)}function assertPreviousNodeText(boldTag,expectedText){var prevNode=boldTag.previousSibling;assertEquals("Expected text before the token does not match",expectedText,prevNode.nodeValue)}function assertHighlightedText(boldTag,expectedHighlightedText){assertEquals("Incorrect text bolded",expectedHighlightedText,boldTag.innerHTML)}function assertLastNodeText(node,expectedText){var lastNode=node.lastChild;assertEquals("Incorrect text in the last node",expectedText,lastNode.nodeValue)}