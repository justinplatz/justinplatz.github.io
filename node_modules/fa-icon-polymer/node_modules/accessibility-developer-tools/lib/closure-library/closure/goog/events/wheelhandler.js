goog.provide("goog.events.WheelHandler");goog.require("goog.dom");goog.require("goog.events");goog.require("goog.events.EventTarget");goog.require("goog.events.WheelEvent");goog.require("goog.style");goog.require("goog.userAgent");goog.require("goog.userAgent.product");goog.require("goog.userAgent.product.isVersion");goog.events.WheelHandler=function(element,opt_capture){goog.events.WheelHandler.base(this,"constructor");this.element_=element;var rtlElement=goog.dom.isElement(this.element_)?this.element_:this.element_.body;this.isRtl_=!!rtlElement&&goog.style.isRightToLeft(rtlElement);this.listenKey_=goog.events.listen(this.element_,goog.events.WheelHandler.getDomEventType(),this,opt_capture)};goog.inherits(goog.events.WheelHandler,goog.events.EventTarget);goog.events.WheelHandler.getDomEventType=function(){if(goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher(17)||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher(9)||goog.userAgent.product.CHROME&&goog.userAgent.product.isVersion(31)){return"wheel"}return goog.userAgent.GECKO?"DOMMouseScroll":"mousewheel"};goog.events.WheelHandler.prototype.handleEvent=function(e){var deltaMode=goog.events.WheelEvent.DeltaMode.PIXEL,deltaX=0,deltaY=0,deltaZ=0,be=e.getBrowserEvent();if("wheel"==be.type){deltaMode=be.deltaMode;deltaX=be.deltaX;deltaY=be.deltaY;deltaZ=be.deltaZ}else if("mousewheel"==be.type){if(goog.isDef(be.wheelDeltaX)){deltaX=-be.wheelDeltaX;deltaY=-be.wheelDeltaY}else{deltaY=-be.wheelDelta}}else{deltaMode=goog.events.WheelEvent.DeltaMode.LINE;if(goog.isDef(be.axis)&&be.axis===be.HORIZONTAL_AXIS){deltaX=be.detail}else{deltaY=be.detail}}if(this.isRtl_){deltaX=-deltaX}var newEvent=new goog.events.WheelEvent(be,deltaMode,deltaX,deltaY,deltaZ);this.dispatchEvent(newEvent)};goog.events.WheelHandler.prototype.disposeInternal=function(){goog.events.WheelHandler.superClass_.disposeInternal.call(this);goog.events.unlistenByKey(this.listenKey_);this.listenKey_=null};