goog.provide("goog.locale.timeZoneDetection");goog.require("goog.locale.TimeZoneFingerprint");goog.locale.timeZoneDetection.TZ_POKE_POINTS_=[1109635200,1128902400,1130657e3,1143333e3,1143806400,1145e6,114638e4,1152489600,11598e5,11595e5,1162095e3,1162075e3,1162105500];goog.locale.timeZoneDetection.getFingerprint=function(date){for(var hash=0,stdOffset,isComplex=!1,i=0;i<goog.locale.timeZoneDetection.TZ_POKE_POINTS_.length;i++){date.setTime(1e3*goog.locale.timeZoneDetection.TZ_POKE_POINTS_[i]);var offset=date.getTimezoneOffset()/30+48;if(0==i){stdOffset=offset}else if(stdOffset!=offset){isComplex=!0}hash=hash<<2^offset}return isComplex?hash:stdOffset};goog.locale.timeZoneDetection.detectTimeZone=function(opt_country,opt_date){var date=opt_date||new Date,fingerprint=goog.locale.timeZoneDetection.getFingerprint(date),timeZoneList=goog.locale.TimeZoneFingerprint[fingerprint];if(timeZoneList){if(opt_country){for(var i=0;i<timeZoneList.length;++i){if(0==timeZoneList[i].indexOf(opt_country)){return timeZoneList[i].substring(3)}}}return timeZoneList[0].substring(3)}return""};goog.locale.timeZoneDetection.getTimeZoneList=function(opt_country,opt_date){var date=opt_date||new Date,fingerprint=goog.locale.timeZoneDetection.getFingerprint(date),timeZoneList=goog.locale.TimeZoneFingerprint[fingerprint];if(!timeZoneList){return[]}for(var chosenList=[],i=0;i<timeZoneList.length;i++){if(!opt_country||0==timeZoneList[i].indexOf(opt_country)){chosenList.push(timeZoneList[i].substring(3))}}return chosenList};