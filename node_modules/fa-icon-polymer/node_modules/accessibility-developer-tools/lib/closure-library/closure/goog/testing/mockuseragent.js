goog.setTestOnly("goog.testing.MockUserAgent");goog.provide("goog.testing.MockUserAgent");goog.require("goog.Disposable");goog.require("goog.labs.userAgent.util");goog.require("goog.testing.PropertyReplacer");goog.require("goog.userAgent");goog.testing.MockUserAgent=function(){goog.Disposable.call(this);this.propertyReplacer_=new goog.testing.PropertyReplacer;this.userAgent_=goog.userAgent.getUserAgentString();this.navigator_=goog.userAgent.getNavigator();this.documentMode_=goog.userAgent.DOCUMENT_MODE};goog.inherits(goog.testing.MockUserAgent,goog.Disposable);goog.testing.MockUserAgent.prototype.installed_;goog.testing.MockUserAgent.prototype.install=function(){if(!this.installed_){this.propertyReplacer_.replace(goog.userAgent,"getUserAgentString",goog.bind(this.getUserAgentString,this));this.propertyReplacer_.replace(goog.labs.userAgent.util,"getUserAgent",goog.bind(this.getUserAgentString,this));this.propertyReplacer_.replace(goog.userAgent,"getNavigator",goog.bind(this.getNavigator,this));this.propertyReplacer_.replace(goog.userAgent,"getDocumentMode_",goog.bind(this.getDocumentMode,this));this.propertyReplacer_.replace(goog.userAgent,"DOCUMENT_MODE",this.getDocumentMode());this.installed_=!0}};goog.testing.MockUserAgent.prototype.getUserAgentString=function(){return this.userAgent_};goog.testing.MockUserAgent.prototype.setUserAgentString=function(userAgent){this.userAgent_=userAgent};goog.testing.MockUserAgent.prototype.getNavigator=function(){return this.navigator_};goog.testing.MockUserAgent.prototype.setNavigator=function(navigator){this.navigator_=navigator};goog.testing.MockUserAgent.prototype.getDocumentMode=function(){return this.documentMode_};goog.testing.MockUserAgent.prototype.setDocumentMode=function(documentMode){this.documentMode_=documentMode;this.propertyReplacer_.set(goog.userAgent,"DOCUMENT_MODE",documentMode)};goog.testing.MockUserAgent.prototype.uninstall=function(){if(this.installed_){this.propertyReplacer_.reset();this.installed_=!1}};goog.testing.MockUserAgent.prototype.disposeInternal=function(){this.uninstall();delete this.propertyReplacer_;delete this.navigator_;delete this.documentMode_;goog.testing.MockUserAgent.base(this,"disposeInternal")};