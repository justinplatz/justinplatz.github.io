<!DOCTYPE html><html><head><title>FPS Display</title><script type="text/javascript" src="../base.js"></script><script type="text/javascript">goog.require("goog.debug.FpsDisplay");goog.require("goog.string");</script></head><body><div id="fpsdisplay"></div><button onclick="doSomethingExpensive()">Do something expensive and watch FPS decrease</button> <button onclick="stop()">Stop expensive action</button> <button onclick="display()">Alert FPS</button><div id="output"></div><script>var fpsDisplay=new goog.debug.FpsDisplay;fpsDisplay.render(document.getElementById("fpsdisplay"));var handle;function doSomethingExpensive(){var output=document.getElementById("output"),appender=function(){output.innerHTML+=goog.string.repeat("<div>a </div>",20);var b=output.offsetHeight};handle=window.setInterval(appender,20)}function stop(){window.clearInterval(handle)}function display(){alert(fpsDisplay.getFps())}</script></body></html>