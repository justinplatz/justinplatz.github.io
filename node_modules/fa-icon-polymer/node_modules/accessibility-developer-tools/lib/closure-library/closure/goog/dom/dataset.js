goog.provide("goog.dom.dataset");goog.require("goog.labs.userAgent.browser");goog.require("goog.string");goog.require("goog.userAgent.product");goog.dom.dataset.ALLOWED_=!goog.userAgent.product.IE&&!goog.labs.userAgent.browser.isSafari();goog.dom.dataset.PREFIX_="data-";goog.dom.dataset.set=function(element,key,value){if(goog.dom.dataset.ALLOWED_&&element.dataset){element.dataset[key]=value}else{element.setAttribute(goog.dom.dataset.PREFIX_+goog.string.toSelectorCase(key),value)}};goog.dom.dataset.get=function(element,key){if(goog.dom.dataset.ALLOWED_&&element.dataset){if(!(key in element.dataset)){return null}return element.dataset[key]}else{return element.getAttribute(goog.dom.dataset.PREFIX_+goog.string.toSelectorCase(key))}};goog.dom.dataset.remove=function(element,key){if(goog.dom.dataset.ALLOWED_&&element.dataset){if(goog.dom.dataset.has(element,key)){delete element.dataset[key]}}else{element.removeAttribute(goog.dom.dataset.PREFIX_+goog.string.toSelectorCase(key))}};goog.dom.dataset.has=function(element,key){if(goog.dom.dataset.ALLOWED_&&element.dataset){return key in element.dataset}else if(element.hasAttribute){return element.hasAttribute(goog.dom.dataset.PREFIX_+goog.string.toSelectorCase(key))}else{return!!element.getAttribute(goog.dom.dataset.PREFIX_+goog.string.toSelectorCase(key))}};goog.dom.dataset.getAll=function(element){if(goog.dom.dataset.ALLOWED_&&element.dataset){return element.dataset}else{for(var dataset={},attributes=element.attributes,i=0,attribute;i<attributes.length;++i){attribute=attributes[i];if(goog.string.startsWith(attribute.name,goog.dom.dataset.PREFIX_)){var key=goog.string.toCamelCase(attribute.name.substr(5));dataset[key]=attribute.value}}return dataset}};