goog.provide("goog.soy.InjectedDataSupplier");goog.provide("goog.soy.Renderer");goog.require("goog.asserts");goog.require("goog.dom");goog.require("goog.html.uncheckedconversions");goog.require("goog.soy");goog.require("goog.soy.data.SanitizedContent");goog.require("goog.soy.data.SanitizedContentKind");goog.require("goog.string.Const");goog.soy.Renderer=function(opt_injectedDataSupplier,opt_domHelper){this.dom_=opt_domHelper||goog.dom.getDomHelper();this.supplier_=opt_injectedDataSupplier||null;this.savedTemplateRenders_=[]};goog.soy.Renderer.SavedTemplateRender;goog.soy.Renderer.prototype.renderAsFragment=function(template,opt_templateData){this.saveTemplateRender_(template,opt_templateData);var node=goog.soy.renderAsFragment(template,opt_templateData,this.getInjectedData_(),this.dom_);this.handleRender(node);return node};goog.soy.Renderer.prototype.renderAsElement=function(template,opt_templateData){this.saveTemplateRender_(template,opt_templateData);var element=goog.soy.renderAsElement(template,opt_templateData,this.getInjectedData_(),this.dom_);this.handleRender(element);return element};goog.soy.Renderer.prototype.renderElement=function(element,template,opt_templateData){this.saveTemplateRender_(template,opt_templateData);goog.soy.renderElement(element,template,opt_templateData,this.getInjectedData_());this.handleRender(element)};goog.soy.Renderer.prototype.render=function(template,opt_templateData){var result=template(opt_templateData||{},void 0,this.getInjectedData_());goog.asserts.assert(!(result instanceof goog.soy.data.SanitizedContent)||result.contentKind===goog.soy.data.SanitizedContentKind.HTML,"render was called with a strict template of kind other than \"html\""+" (consider using renderText or renderStrict)");this.saveTemplateRender_(template,opt_templateData);this.handleRender();return result+""};goog.soy.Renderer.prototype.renderText=function(template,opt_templateData){var result=template(opt_templateData||{},void 0,this.getInjectedData_());goog.asserts.assertInstanceof(result,goog.soy.data.SanitizedContent,"renderText cannot be called on a non-strict soy template");goog.asserts.assert(result.contentKind===goog.soy.data.SanitizedContentKind.TEXT,"renderText was called with a template of kind other than \"text\"");this.saveTemplateRender_(template,opt_templateData);this.handleRender();return result+""};goog.soy.Renderer.prototype.renderStrict=function(template,opt_templateData,opt_kind){var result=template(opt_templateData||{},void 0,this.getInjectedData_());goog.asserts.assertInstanceof(result,goog.soy.data.SanitizedContent,"renderStrict cannot be called on a non-strict soy template");goog.asserts.assert(result.contentKind===(opt_kind||goog.soy.data.SanitizedContentKind.HTML),"renderStrict was called with the wrong kind of template");this.saveTemplateRender_(template,opt_templateData);this.handleRender();return result};goog.soy.Renderer.prototype.renderSafeHtml=function(template,opt_templateData){var result=this.renderStrict(template,opt_templateData);return result.toSafeHtml()};goog.soy.Renderer.prototype.renderSafeStyleSheet=function(template,opt_templateData){var result=this.renderStrict(template,opt_templateData,goog.soy.data.SanitizedContentKind.CSS);return goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Soy templates of kind CSS produce "+"SafeStyleSheet-contract-compliant value."),result.toString())};goog.soy.Renderer.prototype.getSavedTemplateRenders=function(){return this.savedTemplateRenders_};goog.soy.Renderer.prototype.handleRender=goog.nullFunction;goog.soy.Renderer.prototype.saveTemplateRender_=function(template,opt_templateData){if(goog.DEBUG){this.savedTemplateRenders_.push({template:template.soyTemplateName,data:opt_templateData||null,ijData:this.getInjectedData_()})}};goog.soy.Renderer.prototype.getInjectedData_=function(){return this.supplier_?this.supplier_.getData():{}};goog.soy.InjectedDataSupplier=function(){};goog.soy.InjectedDataSupplier.prototype.getData=function(){};