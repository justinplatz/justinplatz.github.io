goog.module("goog.labs.promise");var Promise=goog.require("goog.Promise");exports.run=function(generatorFunc,opt_context){var generator=generatorFunc.call(opt_context);function loop(previousResolvedValue,opt_isRejected){var gen=opt_isRejected?generator["throw"](previousResolvedValue):generator.next(previousResolvedValue);if(!gen.done){return Promise.resolve(gen.value).then(function(resolvedValue){return loop(resolvedValue)},function(rejectValue){return loop(rejectValue,!0)})}return gen.value}return Promise.resolve().then(loop)};