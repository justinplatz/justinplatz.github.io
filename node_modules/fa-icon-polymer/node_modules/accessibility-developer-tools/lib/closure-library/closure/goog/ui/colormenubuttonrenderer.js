goog.provide("goog.ui.ColorMenuButtonRenderer");goog.require("goog.asserts");goog.require("goog.color");goog.require("goog.dom.TagName");goog.require("goog.dom.classlist");goog.require("goog.ui.MenuButtonRenderer");goog.require("goog.userAgent");goog.ui.ColorMenuButtonRenderer=function(){goog.ui.MenuButtonRenderer.call(this)};goog.inherits(goog.ui.ColorMenuButtonRenderer,goog.ui.MenuButtonRenderer);goog.addSingletonGetter(goog.ui.ColorMenuButtonRenderer);goog.ui.ColorMenuButtonRenderer.CSS_CLASS=goog.getCssName("goog-color-menu-button");goog.ui.ColorMenuButtonRenderer.prototype.createCaption=function(content,dom){return goog.ui.ColorMenuButtonRenderer.superClass_.createCaption.call(this,goog.ui.ColorMenuButtonRenderer.wrapCaption(content,dom),dom)};goog.ui.ColorMenuButtonRenderer.wrapCaption=function(content,dom){return dom.createDom(goog.dom.TagName.DIV,goog.getCssName(goog.ui.ColorMenuButtonRenderer.CSS_CLASS,"indicator"),content)};goog.ui.ColorMenuButtonRenderer.prototype.setValue=function(element,value){if(element){goog.ui.ColorMenuButtonRenderer.setCaptionValue(this.getContentElement(element),value)}};goog.ui.ColorMenuButtonRenderer.setCaptionValue=function(caption,value){if(caption&&caption.firstChild){var hexColor,strValue=value;hexColor=strValue&&goog.color.isValidColor(strValue)?goog.color.parse(strValue).hex:null;caption.firstChild.style.borderBottomColor=hexColor||(goog.userAgent.IE?"":"transparent")}};goog.ui.ColorMenuButtonRenderer.prototype.initializeDom=function(button){var buttonElement=button.getElement();goog.asserts.assert(buttonElement);this.setValue(buttonElement,button.getValue());goog.dom.classlist.add(buttonElement,goog.ui.ColorMenuButtonRenderer.CSS_CLASS);goog.ui.ColorMenuButtonRenderer.superClass_.initializeDom.call(this,button)};