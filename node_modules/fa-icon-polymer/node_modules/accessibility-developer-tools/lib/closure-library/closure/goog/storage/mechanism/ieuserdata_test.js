goog.provide("goog.storage.mechanism.IEUserDataTest");goog.setTestOnly("goog.storage.mechanism.IEUserDataTest");goog.require("goog.storage.mechanism.IEUserData");goog.require("goog.storage.mechanism.mechanismSeparationTester");goog.require("goog.storage.mechanism.mechanismSharingTester");goog.require("goog.storage.mechanism.mechanismTestDefinition");goog.require("goog.testing.jsunit");goog.require("goog.userAgent");function setUp(){var ieUserData=new goog.storage.mechanism.IEUserData("test");if(ieUserData.isAvailable()){mechanism=ieUserData;minimumQuota=1024*32;mechanism_shared=new goog.storage.mechanism.IEUserData("test");mechanism_separate=new goog.storage.mechanism.IEUserData("test2")}}function tearDown(){if(!!mechanism){mechanism.clear();mechanism=null}if(!!mechanism_shared){mechanism_shared.clear();mechanism_shared=null}if(!!mechanism_separate){mechanism_separate.clear();mechanism_separate=null}}function testAvailability(){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){assertNotNull(mechanism);assertTrue(mechanism.isAvailable());assertNotNull(mechanism_shared);assertTrue(mechanism_shared.isAvailable());assertNotNull(mechanism_separate);assertTrue(mechanism_separate.isAvailable())}}function testEncoding(){function assertEncodingPair(cleartext,encoded){assertEquals(encoded,goog.storage.mechanism.IEUserData.encodeKey_(cleartext));assertEquals(cleartext,goog.storage.mechanism.IEUserData.decodeKey_(encoded))}assertEncodingPair("simple","_simple");assertEncodingPair("aa.bb%cc!\0$\u4E00.","_aa.2Ebb.25cc.21.00.24.E4.B8.80.2E")}