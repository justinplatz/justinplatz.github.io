goog.provide("goog.ui.ModalAriaVisibilityHelperTest");goog.setTestOnly("goog.ui.ModalAriaVisibilityHelperTest");goog.require("goog.a11y.aria");goog.require("goog.a11y.aria.State");goog.require("goog.dom");goog.require("goog.string");goog.require("goog.testing.jsunit");goog.require("goog.ui.ModalAriaVisibilityHelper");function tearDown(){clearAriaState("div-1");clearAriaState("div-2");clearAriaState("div-4")}function testHide(){var helper=createHelper("div-1");helper.setBackgroundVisibility(!0);assertUnalteredElements();assertEmptyAriaHiddenState("div-1");assertAriaHiddenState("div-2","true");assertAriaHiddenState("div-4","true")}function testUnhide(){var helper=createHelper("div-1");helper.setBackgroundVisibility(!1);assertUnalteredElements();assertEmptyAriaHiddenState("div-1");assertEmptyAriaHiddenState("div-2");assertEmptyAriaHiddenState("div-4")}function testMultipleCalls(){var helper=createHelper("div-2");helper.setBackgroundVisibility(!0);assertUnalteredElements();assertAriaHiddenState("div-1","true");assertEmptyAriaHiddenState("div-2");assertAriaHiddenState("div-4","true");helper.setBackgroundVisibility(!1);assertUnalteredElements();assertEmptyAriaHiddenState("div-1");assertEmptyAriaHiddenState("div-2");assertEmptyAriaHiddenState("div-4");helper.setBackgroundVisibility(!0);assertUnalteredElements();assertAriaHiddenState("div-1","true");assertEmptyAriaHiddenState("div-2");assertAriaHiddenState("div-4","true")}function assertUnalteredElements(){assertEmptyAriaHiddenState("div-2-1");assertAriaHiddenState("div-3","false");assertAriaHiddenState("div-5","true")}function createHelper(id){return new goog.ui.ModalAriaVisibilityHelper(goog.dom.getElement(id),goog.dom.getDomHelper())}function clearAriaState(id){goog.a11y.aria.removeState(goog.dom.getElement(id),goog.a11y.aria.State.HIDDEN)}function assertEmptyAriaHiddenState(id){var element=goog.dom.getElement(id);assertTrue(goog.string.isEmptyOrWhitespace(goog.string.makeSafe(goog.a11y.aria.getState(element,goog.a11y.aria.State.HIDDEN))))}function assertAriaHiddenState(id,expectedState){var element=goog.dom.getElement(id);assertEquals(expectedState,goog.a11y.aria.getState(element,goog.a11y.aria.State.HIDDEN))}