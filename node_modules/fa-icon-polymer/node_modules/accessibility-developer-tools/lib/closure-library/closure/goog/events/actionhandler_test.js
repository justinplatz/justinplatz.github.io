goog.provide("goog.events.ActionHandlerTest");goog.setTestOnly("goog.events.ActionHandlerTest");goog.require("goog.dom");goog.require("goog.events");goog.require("goog.events.ActionHandler");goog.require("goog.testing.events");goog.require("goog.testing.jsunit");var actionHandler;function setUp(){actionHandler=new goog.events.ActionHandler(goog.dom.getElement("actionDiv"))}function tearDown(){actionHandler.dispose()}function testActionHandlerWithBeforeActionHandler(){var actionEventFired=!1,beforeActionFired=!1;goog.events.listen(actionHandler,goog.events.ActionHandler.EventType.ACTION,function(e){actionEventFired=!0});goog.events.listen(actionHandler,goog.events.ActionHandler.EventType.BEFOREACTION,function(e){beforeActionFired=!0});goog.testing.events.fireClickSequence(goog.dom.getElement("actionDiv"));assertTrue("BEFOREACTION event was not fired",beforeActionFired);assertTrue("ACTION event was not fired",actionEventFired)}function testActionHandlerWithoutBeforeActionHandler(){var actionEventFired=!1;goog.events.listen(actionHandler,goog.events.ActionHandler.EventType.ACTION,function(e){actionEventFired=!0});goog.testing.events.fireClickSequence(goog.dom.getElement("actionDiv"));assertTrue("ACTION event was not fired",actionEventFired)}function testBeforeActionCancel(){var actionEventFired=!1,beforeActionFired=!1;goog.events.listen(actionHandler,goog.events.ActionHandler.EventType.ACTION,function(e){actionEvent=e});goog.events.listen(actionHandler,goog.events.ActionHandler.EventType.BEFOREACTION,function(e){beforeActionFired=!0;e.preventDefault()});goog.testing.events.fireClickSequence(goog.dom.getElement("actionDiv"));assertTrue(beforeActionFired);assertFalse(actionEventFired)}