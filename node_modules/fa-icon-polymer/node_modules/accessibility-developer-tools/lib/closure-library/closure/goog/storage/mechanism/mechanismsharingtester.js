goog.provide("goog.storage.mechanism.mechanismSharingTester");goog.require("goog.iter.StopIteration");goog.require("goog.storage.mechanism.mechanismTestDefinition");goog.require("goog.testing.asserts");goog.setTestOnly("goog.storage.mechanism.mechanismSharingTester");function testSharedSet(){if(!mechanism||!mechanism_shared){return}mechanism.set("first","one");assertEquals("one",mechanism_shared.get("first"));assertEquals(1,mechanism_shared.getCount());var iterator=mechanism_shared.__iterator__();assertEquals("one",iterator.next());assertEquals(goog.iter.StopIteration,assertThrows(iterator.next))}function testSharedSetInverse(){if(!mechanism||!mechanism_shared){return}mechanism_shared.set("first","two");assertEquals("two",mechanism.get("first"));assertEquals(1,mechanism.getCount());var iterator=mechanism.__iterator__();assertEquals("two",iterator.next());assertEquals(goog.iter.StopIteration,assertThrows(iterator.next))}function testSharedRemove(){if(!mechanism||!mechanism_shared){return}mechanism_shared.set("first","three");mechanism.remove("first");assertNull(mechanism_shared.get("first"));assertEquals(0,mechanism_shared.getCount());assertEquals(goog.iter.StopIteration,assertThrows(mechanism_shared.__iterator__().next))}function testSharedClean(){if(!mechanism||!mechanism_shared){return}mechanism.set("first","four");mechanism_shared.clear();assertEquals(0,mechanism.getCount());assertEquals(goog.iter.StopIteration,assertThrows(mechanism.__iterator__().next))}