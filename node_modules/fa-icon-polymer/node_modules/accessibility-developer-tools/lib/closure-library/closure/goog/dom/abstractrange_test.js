goog.provide("goog.dom.AbstractRangeTest");goog.setTestOnly("goog.dom.AbstractRangeTest");goog.require("goog.dom");goog.require("goog.dom.AbstractRange");goog.require("goog.dom.Range");goog.require("goog.dom.TagName");goog.require("goog.testing.jsunit");function testCorrectDocument(){var a=goog.dom.getElement("a").contentWindow,b=goog.dom.getElement("b").contentWindow;a.document.body.focus();var selection=goog.dom.AbstractRange.getBrowserSelectionForWindow(a);assertNotNull("Selection must not be null",selection);var range=goog.dom.Range.createFromBrowserSelection(selection);assertEquals("getBrowserSelectionForWindow must return selection in the "+"correct document",a.document,range.getDocument());b.document.body.focus();selection=goog.dom.AbstractRange.getBrowserSelectionForWindow(a);if(null!=selection&&0!=selection.rangeCount){range=goog.dom.Range.createFromBrowserSelection(selection);assertEquals("getBrowserSelectionForWindow must return selection in "+"the correct document",a.document,range.getDocument())}else{assertTrue(null==selection||0==selection.rangeCount)}}function testSelectionIsControlRange(){var c=goog.dom.getElement("c").contentWindow;if(c.document.body.createControlRange){var controlRange=c.document.body.createControlRange();controlRange.add(goog.dom.getElementsByTagName(goog.dom.TagName.IMG,c.document)[0]);controlRange.select();var selection=goog.dom.AbstractRange.getBrowserSelectionForWindow(c);assertNotNull("Selection must not be null",selection)}}