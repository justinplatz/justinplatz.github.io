goog.provide("goog.debugTest");goog.setTestOnly("goog.debugTest");goog.require("goog.debug");goog.require("goog.html.SafeHtml");goog.require("goog.structs.Set");goog.require("goog.testing.jsunit");function testExposeException(){var expected="Message: message&quot;<br>"+"Url: <a href=\"view-source:http://fileName&quot;\" "+"target=\"_new\">http://fileName&quot;</a><br>"+"Line: lineNumber&quot;<br><br>"+"Browser stack:<br>"+"stack&quot;-&gt; [end]",error={message:"message\"",fileName:"http://fileName\"",lineNumber:"lineNumber\"",stack:"stack\""},actualHtml=goog.debug.exposeExceptionAsHtml(error),actual=goog.html.SafeHtml.unwrap(actualHtml);actual=actual.substring(0,expected.length);assertEquals(expected,actual)}function testMakeWhitespaceVisible(){assertEquals("Hello[_][_]World![r][n]\n"+"[r][n]\n"+"[f][f]I[_]am[t][t]here![r][n]\n",goog.debug.makeWhitespaceVisible("Hello  World!\r\n\r\n\f\fI am\t\there!\r\n"))}function testGetFunctionName(){var resolver=function(f){if(f===goog.debug.getFunctionName){return"goog.debug.getFunctionName"}else if(f===goog.structs.Set){return"goog.structs.Set"}else if(f===goog.structs.Set.prototype.getCount){return"goog.structs.Set.getCount"}else{return null}};goog.debug.setFunctionResolver(resolver);assertEquals("goog.debug.getFunctionName",goog.debug.getFunctionName(goog.debug.getFunctionName));assertEquals("goog.structs.Set",goog.debug.getFunctionName(goog.structs.Set));var set=new goog.structs.Set;assertEquals("goog.structs.Set.getCount",goog.debug.getFunctionName(set.getCount));assertEquals("testGetFunctionName",goog.debug.getFunctionName(testGetFunctionName));goog.debug.setFunctionResolver(null)}function assertContainsSubstring(substring,text){assertNotEquals("Could not find \""+substring+"\" in \""+text+"\"",-1,text.search(substring))}function testDeepExpose(){var a={},b={};a.ancestor=a;a.otherObject=b;a.otherObjectAgain=b;var deepExpose=goog.debug.deepExpose(a);assertContainsSubstring("ancestor = ... reference loop detected ...",deepExpose);assertContainsSubstring("otherObjectAgain = {",deepExpose)}