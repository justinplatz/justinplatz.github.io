goog.provide("goog.ui.editor.ToolbarFactoryTest");goog.setTestOnly("goog.ui.editor.ToolbarFactoryTest");goog.require("goog.dom");goog.require("goog.testing.ExpectedFailures");goog.require("goog.testing.editor.TestHelper");goog.require("goog.testing.jsunit");goog.require("goog.ui.editor.ToolbarFactory");goog.require("goog.userAgent");var helper,expectedFailures;function setUpPage(){helper=new goog.testing.editor.TestHelper(goog.dom.getElement("myField"));expectedFailures=new goog.testing.ExpectedFailures}function setUp(){helper.setUpEditableElement()}function tearDown(){helper.tearDownEditableElement();expectedFailures.handleTearDown()}function testGetLegacySizeFromPx(){expectedFailures.expectFailureFor(!goog.userAgent.WEBKIT||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("534.7"));try{for(var fieldElem=goog.dom.getElement("myField"),i=1;i<goog.ui.editor.ToolbarFactory.LEGACY_SIZE_TO_PX_MAP_.length;i++){helper.select(fieldElem,0,fieldElem,1);document.execCommand("fontSize",!1,i);helper.select("foo",1);var value=document.queryCommandValue("fontSize");assertEquals("Px size "+value+" should convert to legacy size "+i,i,goog.ui.editor.ToolbarFactory.getLegacySizeFromPx(parseInt(value,10)))}}catch(e){expectedFailures.handleException(e)}}