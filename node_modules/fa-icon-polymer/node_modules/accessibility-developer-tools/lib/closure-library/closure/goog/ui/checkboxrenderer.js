goog.provide("goog.ui.CheckboxRenderer");goog.require("goog.a11y.aria");goog.require("goog.a11y.aria.Role");goog.require("goog.a11y.aria.State");goog.require("goog.array");goog.require("goog.asserts");goog.require("goog.dom.TagName");goog.require("goog.dom.classlist");goog.require("goog.object");goog.require("goog.ui.ControlRenderer");goog.ui.CheckboxRenderer=function(){goog.ui.CheckboxRenderer.base(this,"constructor")};goog.inherits(goog.ui.CheckboxRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.CheckboxRenderer);goog.ui.CheckboxRenderer.CSS_CLASS=goog.getCssName("goog-checkbox");goog.ui.CheckboxRenderer.prototype.createDom=function(checkbox){var element=checkbox.getDomHelper().createDom(goog.dom.TagName.SPAN,this.getClassNames(checkbox).join(" ")),state=checkbox.getChecked();this.setCheckboxState(element,state);return element};goog.ui.CheckboxRenderer.prototype.decorate=function(checkbox,element){element=goog.ui.CheckboxRenderer.base(this,"decorate",checkbox,element);goog.asserts.assert(element);var classes=goog.dom.classlist.get(element),checked=goog.ui.Checkbox.State.UNCHECKED;if(goog.array.contains(classes,this.getClassForCheckboxState(goog.ui.Checkbox.State.UNDETERMINED))){checked=goog.ui.Checkbox.State.UNDETERMINED}else if(goog.array.contains(classes,this.getClassForCheckboxState(goog.ui.Checkbox.State.CHECKED))){checked=goog.ui.Checkbox.State.CHECKED}else if(goog.array.contains(classes,this.getClassForCheckboxState(goog.ui.Checkbox.State.UNCHECKED))){checked=goog.ui.Checkbox.State.UNCHECKED}checkbox.setCheckedInternal(checked);goog.asserts.assert(element,"The element cannot be null.");goog.a11y.aria.setState(element,goog.a11y.aria.State.CHECKED,this.ariaStateFromCheckState_(checked));return element};goog.ui.CheckboxRenderer.prototype.getAriaRole=function(){return goog.a11y.aria.Role.CHECKBOX};goog.ui.CheckboxRenderer.prototype.setCheckboxState=function(element,state){if(element){goog.asserts.assert(element);var classToAdd=this.getClassForCheckboxState(state);goog.asserts.assert(classToAdd);goog.asserts.assert(element);if(goog.dom.classlist.contains(element,classToAdd)){return}goog.object.forEach(goog.ui.Checkbox.State,function(state){var className=this.getClassForCheckboxState(state);goog.asserts.assert(element);goog.dom.classlist.enable(element,className,className==classToAdd)},this);goog.a11y.aria.setState(element,goog.a11y.aria.State.CHECKED,this.ariaStateFromCheckState_(state))}};goog.ui.CheckboxRenderer.prototype.ariaStateFromCheckState_=function(state){if(state==goog.ui.Checkbox.State.UNDETERMINED){return"mixed"}else if(state==goog.ui.Checkbox.State.CHECKED){return"true"}else{return"false"}};goog.ui.CheckboxRenderer.prototype.getCssClass=function(){return goog.ui.CheckboxRenderer.CSS_CLASS};goog.ui.CheckboxRenderer.prototype.getClassForCheckboxState=function(state){var baseClass=this.getStructuralCssClass();if(state==goog.ui.Checkbox.State.CHECKED){return goog.getCssName(baseClass,"checked")}else if(state==goog.ui.Checkbox.State.UNCHECKED){return goog.getCssName(baseClass,"unchecked")}else if(state==goog.ui.Checkbox.State.UNDETERMINED){return goog.getCssName(baseClass,"undetermined")}throw Error("Invalid checkbox state: "+state)};