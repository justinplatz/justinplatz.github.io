goog.provide("goog.module.ModuleLoadCallbackTest");goog.setTestOnly("goog.module.ModuleLoadCallbackTest");goog.require("goog.debug.ErrorHandler");goog.require("goog.debug.entryPointRegistry");goog.require("goog.functions");goog.require("goog.module.ModuleLoadCallback");goog.require("goog.testing.jsunit");goog.require("goog.testing.recordFunction");function testProtectEntryPoint(){var callback1=new goog.module.ModuleLoadCallback(goog.functions.error("callback1")),errorFn=goog.testing.recordFunction(),errorHandler=new goog.debug.ErrorHandler(errorFn);goog.debug.entryPointRegistry.monitorAll(errorHandler);assertEquals(0,errorFn.getCallCount());assertThrows(goog.bind(callback1.execute,callback1));assertEquals(1,errorFn.getCallCount());assertContains("callback1",errorFn.getLastCall().getArguments()[0].message);var callback2=new goog.module.ModuleLoadCallback(goog.functions.error("callback2"));assertThrows(goog.bind(callback1.execute,callback2));assertEquals(2,errorFn.getCallCount());assertContains("callback2",errorFn.getLastCall().getArguments()[0].message)}