goog.provide("goog.i18n.CharListDecompressor");goog.require("goog.array");goog.require("goog.i18n.uChar");goog.i18n.CharListDecompressor=function(){this.buildCharMap_("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqr"+"stuvwxyz!#$%()*+,-.:;<=>?@[]^_`{|}~")};goog.i18n.CharListDecompressor.prototype.charMap_=null;goog.i18n.CharListDecompressor.prototype.buildCharMap_=function(str){if(!this.charMap_){this.charMap_={};for(var i=0;i<str.length;i++){this.charMap_[str.charAt(i)]=i}}};goog.i18n.CharListDecompressor.prototype.getCodeAt_=function(str,start,leng){for(var result=0,i=0,c;i<leng;i++){c=this.charMap_[str.charAt(start+i)];result+=c*Math.pow(88,i)}return result};goog.i18n.CharListDecompressor.prototype.addChars_=function(list,lastcode,value,type){if(0==type){lastcode+=value+1;goog.array.extend(list,goog.i18n.uChar.fromCharCode(lastcode))}else if(1==type){lastcode-=value+1;goog.array.extend(list,goog.i18n.uChar.fromCharCode(lastcode))}else if(2==type){for(var i=0;i<=value;i++){lastcode++;goog.array.extend(list,goog.i18n.uChar.fromCharCode(lastcode))}}return lastcode};goog.i18n.CharListDecompressor.prototype.toCharList=function(str){var _Mathfloor=Math.floor,metasize=8,result=[],lastcode=0,i=0;while(i<str.length){var c=this.charMap_[str.charAt(i)],meta=c%metasize,type=_Mathfloor(meta/3),leng=meta%3+1;if(3==leng){leng++}var code=this.getCodeAt_(str,i,leng),value=_Mathfloor(code/metasize);lastcode=this.addChars_(result,lastcode,value,type);i+=leng}return result};