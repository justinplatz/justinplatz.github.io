goog.provide("goog.html.flashTest");goog.require("goog.html.SafeHtml");goog.require("goog.html.TrustedResourceUrl");goog.require("goog.html.flash");goog.require("goog.string.Const");goog.require("goog.testing.jsunit");goog.setTestOnly("goog.html.flashTest");function testCreateEmbed(){var trustedResourceUrl=goog.html.TrustedResourceUrl.fromConstant(goog.string.Const.from("https://google.com/trusted&"));assertSameHtml("<embed "+"src=\"https://google.com/trusted&amp;\" "+"type=\"application/x-shockwave-flash\" "+"pluginspage=\"https://www.macromedia.com/go/getflashplayer\" "+"allownetworking=\"none\" "+"allowScriptAccess=\"always&lt;\" "+"class=\"test&lt;\">",goog.html.flash.createEmbed(trustedResourceUrl,{allowScriptAccess:"always<",class:"test<"}));assertThrows(function(){goog.html.flash.createEmbed(trustedResourceUrl,{Type:"cannotdothis"})})}function testCreateObject(){var trustedResourceUrl=goog.html.TrustedResourceUrl.fromConstant(goog.string.Const.from("https://google.com/trusted&"));assertSameHtml("<object data=\"https://google.com/trusted&amp;\" "+"type=\"application/x-shockwave-flash\" typemustmatch=\"\" "+"class=\"test&lt;\">"+"<param name=\"allownetworking\" value=\"none\">"+"<param name=\"allowScriptAccess\" value=\"always&lt;\">"+"</object>",goog.html.flash.createObject(trustedResourceUrl,{allowScriptAccess:"always<"},{class:"test<"}));assertThrows(function(){goog.html.flash.createObject(trustedResourceUrl,{datA:"cantdothis"})});assertThrows(function(){goog.html.flash.createObject(trustedResourceUrl,{},{datA:"cantdothis"})})}function testCreateObjectForOldIe(){var trustedResourceUrl=goog.html.TrustedResourceUrl.fromConstant(goog.string.Const.from("https://google.com/trusted&"));assertSameHtml("<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" "+"class=\"test&lt;\">"+"<param name=\"allownetworking\" value=\"none\">"+"<param name=\"movie\" value=\"https://google.com/trusted&amp;\">"+"<param name=\"allowScriptAccess\" value=\"always&lt;\">"+"</object>",goog.html.flash.createObjectForOldIe(trustedResourceUrl,{allowScriptAccess:"always<"},{class:"test<"}));assertThrows(function(){goog.html.flash.createObjectForOldIe(trustedResourceUrl,{datA:"cantdothis"})});assertThrows(function(){goog.html.flash.createObjectForOldIe(trustedResourceUrl,{},{datA:"cantdothis"})})}function assertSameHtml(expected,html){assertEquals(expected,goog.html.SafeHtml.unwrap(html))}