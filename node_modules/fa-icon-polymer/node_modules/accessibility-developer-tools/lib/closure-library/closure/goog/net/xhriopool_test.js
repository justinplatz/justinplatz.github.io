goog.provide("goog.net.XhrIoPoolTest");goog.setTestOnly("goog.net.XhrIoPoolTest");goog.require("goog.net.XhrIoPool");goog.require("goog.structs.Map");goog.require("goog.testing.jsunit");var headers=new goog.structs.Map;headers.set("X-Foo","Bar");function testSetHeadersForNewPoolObjects(){var xhrIoPool=new goog.net.XhrIoPool(headers,0),xhrIo=xhrIoPool.getObject();assertEquals("Request should contain 1 header",1,xhrIo.headers.getCount());assertTrue("Request should contain right header key",xhrIo.headers.containsKey("X-Foo"));assertEquals("Request should contain right header value",xhrIo.headers.get("X-Foo"),"Bar");xhrIoPool.releaseObject(xhrIo);goog.dispose(xhrIoPool)}function testSetHeadersForInitializedPoolObjects(){var xhrIoPool=new goog.net.XhrIoPool(headers,1,1),xhrIo=xhrIoPool.getObject();assertEquals("Request should contain 1 header",1,xhrIo.headers.getCount());assertTrue("Request should contain right header key",xhrIo.headers.containsKey("X-Foo"));assertEquals("Request should contain right header value","Bar",xhrIo.headers.get("X-Foo"));xhrIoPool.releaseObject(xhrIo);goog.dispose(xhrIoPool)}function testSetCredentials(){var xhrIoPool=new goog.net.XhrIoPool(void 0,void 0,void 0,!0),xhrIo=xhrIoPool.getObject();assertTrue("withCredentials should be set on a request object",xhrIo.getWithCredentials());xhrIoPool.releaseObject(xhrIo);goog.dispose(xhrIoPool)}