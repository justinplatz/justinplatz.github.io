goog.provide("goog.dom.SavedRangeTest");goog.setTestOnly("goog.dom.SavedRangeTest");goog.require("goog.dom");goog.require("goog.dom.Range");goog.require("goog.testing.jsunit");goog.require("goog.userAgent");function testSaved(){var node=goog.dom.getElement("test1"),range=goog.dom.Range.createFromNodeContents(node),savedRange=range.saveUsingDom();range=savedRange.restore(!0);assertEquals("Restored range should select \"Text\"","Text",range.getText());assertFalse("Restored range should not be reversed.",range.isReversed());assertFalse("Range should not have disposed itself.",savedRange.isDisposed());goog.dom.Range.clearSelection();assertFalse(goog.dom.Range.hasSelection(window));range=savedRange.restore();assertTrue("Range should have auto-disposed.",savedRange.isDisposed());assertEquals("Restored range should select \"Text\"","Text",range.getText());assertFalse("Restored range should not be reversed.",range.isReversed())}function testReversedSave(){var node=goog.dom.getElement("test1").firstChild,range=goog.dom.Range.createFromNodes(node,4,node,0),savedRange=range.saveUsingDom();range=savedRange.restore();assertEquals("Restored range should select \"Text\"","Text",range.getText());if(!goog.userAgent.IE){assertTrue("Restored range should be reversed.",range.isReversed())}}