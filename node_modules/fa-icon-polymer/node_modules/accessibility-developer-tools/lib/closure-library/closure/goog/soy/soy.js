goog.provide("goog.soy");goog.require("goog.asserts");goog.require("goog.dom");goog.require("goog.dom.NodeType");goog.require("goog.dom.TagName");goog.require("goog.html.legacyconversions");goog.require("goog.soy.data.SanitizedContent");goog.require("goog.soy.data.SanitizedContentKind");goog.require("goog.string");goog.define("goog.soy.REQUIRE_STRICT_AUTOESCAPE",!1);goog.soy.StrictTemplate;goog.soy.renderHtml=function(element,templateResult){element.innerHTML=goog.soy.ensureTemplateOutputHtml_(templateResult)};goog.soy.renderElement=function(element,template,opt_templateData,opt_injectedData){goog.asserts.assert(template,"Soy template may not be null.");element.innerHTML=goog.soy.ensureTemplateOutputHtml_(template(opt_templateData||goog.soy.defaultTemplateData_,void 0,opt_injectedData))};goog.soy.renderAsFragment=function(template,opt_templateData,opt_injectedData,opt_domHelper){goog.asserts.assert(template,"Soy template may not be null.");var dom=opt_domHelper||goog.dom.getDomHelper(),output=template(opt_templateData||goog.soy.defaultTemplateData_,void 0,opt_injectedData),html=goog.soy.ensureTemplateOutputHtml_(output);goog.soy.assertFirstTagValid_(html);var safeHtml=output instanceof goog.soy.data.SanitizedContent?output.toSafeHtml():goog.html.legacyconversions.safeHtmlFromString(html);return dom.safeHtmlToNode(safeHtml)};goog.soy.renderAsElement=function(template,opt_templateData,opt_injectedData,opt_domHelper){goog.asserts.assert(template,"Soy template may not be null.");return goog.soy.convertToElement_(template(opt_templateData||goog.soy.defaultTemplateData_,void 0,opt_injectedData),opt_domHelper)};goog.soy.convertToElement=function(templateResult,opt_domHelper){return goog.soy.convertToElement_(templateResult,opt_domHelper)};goog.soy.convertToElement_=function(templateResult,opt_domHelper){var dom=opt_domHelper||goog.dom.getDomHelper(),wrapper=dom.createElement(goog.dom.TagName.DIV),html=goog.soy.ensureTemplateOutputHtml_(templateResult);goog.soy.assertFirstTagValid_(html);wrapper.innerHTML=html;if(1==wrapper.childNodes.length){var firstChild=wrapper.firstChild;if(firstChild.nodeType==goog.dom.NodeType.ELEMENT){return firstChild}}return wrapper};goog.soy.ensureTemplateOutputHtml_=function(templateResult){if(!goog.soy.REQUIRE_STRICT_AUTOESCAPE&&!goog.isObject(templateResult)){return templateResult+""}if(templateResult instanceof goog.soy.data.SanitizedContent){templateResult=templateResult;var ContentKind=goog.soy.data.SanitizedContentKind;if(templateResult.contentKind===ContentKind.HTML){return goog.asserts.assertString(templateResult.getContent())}if(templateResult.contentKind===ContentKind.TEXT){return goog.string.htmlEscape(templateResult.getContent())}}goog.asserts.fail("Soy template output is unsafe for use as HTML: "+templateResult);return"zSoyz"};goog.soy.assertFirstTagValid_=function(html){if(goog.asserts.ENABLE_ASSERTS){var matches=html.match(goog.soy.INVALID_TAG_TO_RENDER_);goog.asserts.assert(!matches,"This template starts with a %s, which "+"cannot be a child of a <div>, as required by soy internals. "+"Consider using goog.soy.renderElement instead.\nTemplate output: %s",matches&&matches[0],html)}};goog.soy.INVALID_TAG_TO_RENDER_=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i;goog.soy.defaultTemplateData_={};