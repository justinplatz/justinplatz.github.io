goog.provide("goog.ui.PopupDatePickerTest");goog.setTestOnly("goog.ui.PopupDatePickerTest");goog.require("goog.date.Date");goog.require("goog.events");goog.require("goog.testing.jsunit");goog.require("goog.testing.recordFunction");goog.require("goog.ui.PopupBase");goog.require("goog.ui.PopupDatePicker");var popupDatePicker;function setUp(){popupDatePicker=new goog.ui.PopupDatePicker}function tearDown(){popupDatePicker.dispose()}function testIsVisible(){assertFalse(popupDatePicker.isVisible());popupDatePicker.createDom();assertFalse(popupDatePicker.isVisible());popupDatePicker.render();assertFalse(popupDatePicker.isVisible());popupDatePicker.showPopup(document.body);assertTrue(popupDatePicker.isVisible());popupDatePicker.hidePopup();assertFalse(popupDatePicker.isVisible())}function testFiresShowAndHideEvents(){var showHandler=goog.testing.recordFunction(),hideHandler=goog.testing.recordFunction();goog.events.listen(popupDatePicker,goog.ui.PopupBase.EventType.SHOW,showHandler);goog.events.listen(popupDatePicker,goog.ui.PopupBase.EventType.HIDE,hideHandler);popupDatePicker.createDom();popupDatePicker.render();assertEquals(0,showHandler.getCallCount());assertEquals(0,hideHandler.getCallCount());popupDatePicker.showPopup(document.body);assertEquals(2,showHandler.getCallCount());assertEquals(0,hideHandler.getCallCount());showHandler.reset();popupDatePicker.hidePopup();assertEquals(0,showHandler.getCallCount());assertEquals(1,hideHandler.getCallCount())}function testShow(){popupDatePicker.createDom();popupDatePicker.render();var datePicker=popupDatePicker.getDatePicker(),date=new goog.date.Date;datePicker.setDate(date);popupDatePicker.showPopup(document.body,void 0);assertNull(datePicker.getDate());datePicker.setDate(date);popupDatePicker.showPopup(document.body,!1);assertNull(datePicker.getDate());datePicker.setDate(date);popupDatePicker.showPopup(document.body,!0);assertTrue(date.equals(datePicker.getDate()))}