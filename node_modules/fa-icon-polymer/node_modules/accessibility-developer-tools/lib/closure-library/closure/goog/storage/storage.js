goog.provide("goog.storage.Storage");goog.require("goog.json");goog.require("goog.storage.ErrorCode");goog.storage.Storage=function(mechanism){this.mechanism=mechanism};goog.storage.Storage.prototype.set=function(key,value){if(!goog.isDef(value)){this.mechanism.remove(key);return}this.mechanism.set(key,goog.json.serialize(value))};goog.storage.Storage.prototype.get=function(key){var json;try{json=this.mechanism.get(key)}catch(e){return}if(goog.isNull(json)){return}try{return goog.json.parse(json)}catch(e){throw goog.storage.ErrorCode.INVALID_VALUE}};goog.storage.Storage.prototype.remove=function(key){this.mechanism.remove(key)};