goog.provide("goog.async.Debouncer");goog.require("goog.Disposable");goog.require("goog.Timer");goog.async.Debouncer=function(listener,interval,opt_handler){goog.async.Debouncer.base(this,"constructor");this.listener_=null!=opt_handler?goog.bind(listener,opt_handler):listener;this.interval_=interval;this.callback_=goog.bind(this.onTimer_,this);this.shouldFire_=!1;this.pauseCount_=0;this.timer_=null;this.args_=[]};goog.inherits(goog.async.Debouncer,goog.Disposable);goog.async.Debouncer.prototype.fire=function(var_args){this.stop();this.args_=arguments;this.timer_=goog.Timer.callOnce(this.callback_,this.interval_)};goog.async.Debouncer.prototype.stop=function(){if(this.timer_){goog.Timer.clear(this.timer_);this.timer_=null}this.shouldFire_=!1;this.args_=[]};goog.async.Debouncer.prototype.pause=function(){++this.pauseCount_};goog.async.Debouncer.prototype.resume=function(){if(!this.pauseCount_){return}--this.pauseCount_;if(!this.pauseCount_&&this.shouldFire_){this.doAction_()}};goog.async.Debouncer.prototype.disposeInternal=function(){this.stop();goog.async.Debouncer.base(this,"disposeInternal")};goog.async.Debouncer.prototype.onTimer_=function(){this.timer_=null;if(!this.pauseCount_){this.doAction_()}else{this.shouldFire_=!0}};goog.async.Debouncer.prototype.doAction_=function(){this.shouldFire_=!1;this.listener_.apply(null,this.args_)};