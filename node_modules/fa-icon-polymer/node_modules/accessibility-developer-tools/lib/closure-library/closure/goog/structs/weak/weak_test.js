goog.provide("goog.structs.weakTest");goog.setTestOnly("goog.structs.weakTest");goog.require("goog.array");goog.require("goog.structs.weak");goog.require("goog.testing.jsunit");function shouldRunTests(){return goog.structs.weak.SUPPORTED_BROWSER}function testGenerateId(){assertNotEquals(goog.structs.weak.generateId(),goog.structs.weak.generateId())}function testCheckKeyTypeValidObject(){var validKeys=[{},[],document.body,/RegExp/,goog.nullFunction];goog.array.forEach(validKeys,function(key){goog.structs.weak.checkKeyType(key)})}function testCheckKeyTypePrimitive(){var primitiveKeys=["test",1,!0,null,void 0];goog.array.forEach(primitiveKeys,function(key){assertThrows(function(){goog.structs.weak.checkKeyType(key)})})}function testCheckKeyTypeNonExtensibleObject(){var sealedObj={},frozenObj={},preventExtensionsObj={};Object.seal(sealedObj);Object.freeze(frozenObj);Object.preventExtensions(preventExtensionsObj);assertThrows(function(){goog.structs.weak.checkKeyType(sealedObj)});assertThrows(function(){goog.structs.weak.checkKeyType(frozenObj)});assertThrows(function(){goog.structs.weak.checkKeyType(preventExtensionsObj)})}