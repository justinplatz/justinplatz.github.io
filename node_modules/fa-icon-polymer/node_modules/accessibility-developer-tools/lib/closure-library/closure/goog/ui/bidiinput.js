goog.provide("goog.ui.BidiInput");goog.require("goog.dom");goog.require("goog.dom.InputType");goog.require("goog.dom.TagName");goog.require("goog.events");goog.require("goog.events.InputHandler");goog.require("goog.i18n.bidi");goog.require("goog.ui.Component");goog.ui.BidiInput=function(opt_domHelper){goog.ui.Component.call(this,opt_domHelper)};goog.inherits(goog.ui.BidiInput,goog.ui.Component);goog.tagUnsealableClass(goog.ui.BidiInput);goog.ui.BidiInput.prototype.inputHandler_=null;goog.ui.BidiInput.prototype.decorateInternal=function(element){goog.ui.BidiInput.superClass_.decorateInternal.call(this,element);this.init_()};goog.ui.BidiInput.prototype.createDom=function(){this.setElementInternal(this.getDomHelper().createDom(goog.dom.TagName.INPUT,{type:goog.dom.InputType.TEXT}));this.init_()};goog.ui.BidiInput.prototype.init_=function(){this.setDirection_();this.inputHandler_=new goog.events.InputHandler(this.getElement());goog.events.listen(this.inputHandler_,goog.events.InputHandler.EventType.INPUT,this.setDirection_,!1,this)};goog.ui.BidiInput.prototype.setDirection_=function(){var element=this.getElement();if(element){var text=this.getValue();goog.i18n.bidi.setElementDirByTextDirectionality(element,text)}};goog.ui.BidiInput.prototype.getDirection=function(){var dir=this.getElement().dir;if(""==dir){dir=null}return dir};goog.ui.BidiInput.prototype.setValue=function(value){var element=this.getElement();if(goog.isDefAndNotNull(element.value)){element.value=value}else{goog.dom.setTextContent(element,value)}this.setDirection_()};goog.ui.BidiInput.prototype.getValue=function(){var element=this.getElement();return goog.isDefAndNotNull(element.value)?element.value:goog.dom.getRawTextContent(element)};goog.ui.BidiInput.prototype.disposeInternal=function(){if(this.inputHandler_){goog.events.removeAll(this.inputHandler_);this.inputHandler_.dispose();this.inputHandler_=null;goog.ui.BidiInput.superClass_.disposeInternal.call(this)}};