goog.provide("goog.storage.collectableStorageTester");goog.require("goog.testing.asserts");goog.setTestOnly("collectablestorage_test");goog.storage.collectableStorageTester.runBasicTests=function(mechanism,clock,storage){storage.set("first","three seconds",3e3);storage.set("second","one second",1e3);storage.set("third","permanent");storage.set("fourth","two seconds",2e3);clock.tick(100);storage.collect();assertEquals("three seconds",storage.get("first"));assertEquals("one second",storage.get("second"));assertEquals("permanent",storage.get("third"));assertEquals("two seconds",storage.get("fourth"));clock.tick(1e3);storage.collect();assertNull(mechanism.get("second"));assertEquals("three seconds",storage.get("first"));assertUndefined(storage.get("second"));assertEquals("permanent",storage.get("third"));assertEquals("two seconds",storage.get("fourth"));clock.tick(2e3);storage.collect();assertNull(mechanism.get("first"));assertNull(mechanism.get("fourth"));assertUndefined(storage.get("first"));assertEquals("permanent",storage.get("third"));assertUndefined(storage.get("fourth"));storage.remove("third");assertNull(mechanism.get("third"));assertUndefined(storage.get("third"));storage.collect();clock.uninstall()};