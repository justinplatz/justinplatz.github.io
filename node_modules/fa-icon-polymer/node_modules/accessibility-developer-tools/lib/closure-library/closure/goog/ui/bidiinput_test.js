goog.provide("goog.ui.BidiInputTest");goog.setTestOnly("goog.ui.BidiInputTest");goog.require("goog.dom");goog.require("goog.testing.jsunit");goog.require("goog.ui.BidiInput");function setUp(){document.body.focus()}function tearDown(){document.getElementById("emptyText").value="";document.getElementById("bidiText").value="hello, world!"}function testEmptyInput(){var bidiInput=new goog.ui.BidiInput,emptyText=goog.dom.getElement("emptyText");bidiInput.decorate(emptyText);assertEquals("",bidiInput.getValue());bidiInput.setValue("hello!");assertEquals("hello!",bidiInput.getValue())}function testSetDirection(){var shalomInHebrew="\u05E9\u05DC\u05D5\u05DD",isAGoodLanguageInHebrew="\u05D4\u05D9\u05D0 \u05E9\u05E4\u05D4 \u05D8\u05D5\u05D1\u05D4",learnInHebrew="\u05DC\u05DE\u05D3",bidiInput=new goog.ui.BidiInput,bidiText=goog.dom.getElement("bidiText");bidiInput.decorate(bidiText);assertEquals("ltr",bidiInput.getDirection());bidiInput.setValue(shalomInHebrew);assertEquals("rtl",bidiInput.getDirection());bidiInput.setValue("hello!");assertEquals("ltr",bidiInput.getDirection());bidiInput.setValue(":) , ? ! "+shalomInHebrew);assertEquals("rtl",bidiInput.getDirection());bidiInput.setValue(":) , ? ! hello!");assertEquals("ltr",bidiInput.getDirection());bidiInput.setValue("   ;)   ");assertEquals(null,bidiInput.getDirection());bidiInput.setValue(shalomInHebrew+", how are you today?");assertEquals("ltr",bidiInput.getDirection());bidiInput.setValue("Hello is "+shalomInHebrew+" in Hebrew");assertEquals("ltr",bidiInput.getDirection());bidiInput.setValue("JavaScript "+isAGoodLanguageInHebrew);assertEquals("rtl",bidiInput.getDirection());bidiInput.setValue(learnInHebrew+" JavaScript");assertEquals("rtl",bidiInput.getDirection());bidiInput.setValue("");assertEquals(null,bidiInput.getDirection())}function testSetDirection_inContenteditableDiv(){var shalomInHebrew="\u05E9\u05DC\u05D5\u05DD",isAGoodLanguageInHebrew="\u05D4\u05D9\u05D0 \u05E9\u05E4\u05D4 \u05D8\u05D5\u05D1\u05D4",learnInHebrew="\u05DC\u05DE\u05D3",bidiInput=new goog.ui.BidiInput,bidiTextDiv=goog.dom.getElement("bidiTextDiv");bidiInput.decorate(bidiTextDiv);assertEquals("ltr",bidiInput.getDirection());bidiInput.setValue(shalomInHebrew);assertEquals("rtl",bidiInput.getDirection());bidiInput.setValue("hello!");assertEquals("ltr",bidiInput.getDirection());bidiInput.setValue(":) , ? ! "+shalomInHebrew);assertEquals("rtl",bidiInput.getDirection());bidiInput.setValue(":) , ? ! hello!");assertEquals("ltr",bidiInput.getDirection());bidiInput.setValue("   ;)   ");assertEquals(null,bidiInput.getDirection());bidiInput.setValue(shalomInHebrew+", how are you today?");assertEquals("ltr",bidiInput.getDirection());bidiInput.setValue("Hello is "+shalomInHebrew+" in Hebrew");assertEquals("ltr",bidiInput.getDirection());bidiInput.setValue("JavaScript "+isAGoodLanguageInHebrew);assertEquals("rtl",bidiInput.getDirection());bidiInput.setValue(learnInHebrew+" JavaScript");assertEquals("rtl",bidiInput.getDirection());bidiInput.setValue("");assertEquals(null,bidiInput.getDirection())}