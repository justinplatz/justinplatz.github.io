goog.require("goog.testing.dom");goog.require("goog.testing.testSuite");function initTestSuite(){goog.testing.testSuite(function(){var testElement,suite={setUp(){testElement=document.createElement("div");document.body.appendChild(testElement)},tearDown(){testElement.remove()}};function getScript(type){var element=div.querySelector("script[type=\""+type+"\"]");return new Function(element&&element.textContent||"")}function testCase(div){var input=div.querySelector(".input"),expected=div.querySelector(".expected");expected=expected?expected.innerHTML:"";var process=getScript("process"),postcondition=getScript("postcondition"),name=div.id;return function(){testElement.id=name;testElement.innerHTML=input.innerHTML;process();goog.testing.dom.assertHtmlMatches(expected,testElement.innerHTML);postcondition()}}for(var divs=document.querySelectorAll("div"),i=0,div;i<divs.length;i++){div=divs[i];if(!/^test.+/.test(div.id))continue;div.remove();suite[div.id]=testCase(div)}return suite}())}