(function(scope,testing){var SVG_TRANSFORM_PROP="_webAnimationsUpdateSvgTransformAttr";function updateSvgTransformAttr(window,element){if(!element.namespaceURI||-1==element.namespaceURI.indexOf("/svg")){return!1}if(!(SVG_TRANSFORM_PROP in window)){window[SVG_TRANSFORM_PROP]=/Trident|MSIE|IEMobile|Edge|Android 4/i.test(window.navigator.userAgent)}return window[SVG_TRANSFORM_PROP]}var styleAttributes={cssText:1,length:1,parentRule:1},styleMethods={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},styleMutatingMethods={removeProperty:1,setProperty:1};function configureProperty(object,property,descriptor){descriptor.enumerable=!0;descriptor.configurable=!0;Object.defineProperty(object,property,descriptor)}function AnimatedCSSStyleDeclaration(element){WEB_ANIMATIONS_TESTING&&console.assert(!(element.style instanceof AnimatedCSSStyleDeclaration),"Element must not already have an animated style attached.");this._element=element;this._surrogateStyle=document.createElementNS("http://www.w3.org/1999/xhtml","div").style;this._style=element.style;this._length=0;this._isAnimatedProperty={};this._updateSvgTransformAttr=updateSvgTransformAttr(window,element);this._savedTransformAttr=null;for(var i=0,property;i<this._style.length;i++){property=this._style[i];this._surrogateStyle[property]=this._style[property]}this._updateIndices()}AnimatedCSSStyleDeclaration.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(text){for(var isAffectedProperty={},i=0;i<this._surrogateStyle.length;i++){isAffectedProperty[this._surrogateStyle[i]]=!0}this._surrogateStyle.cssText=text;this._updateIndices();for(var i=0;i<this._surrogateStyle.length;i++){isAffectedProperty[this._surrogateStyle[i]]=!0}for(var property in isAffectedProperty){if(!this._isAnimatedProperty[property]){this._style.setProperty(property,this._surrogateStyle.getPropertyValue(property))}}},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){while(this._length<this._surrogateStyle.length){Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(index){return function(){return this._surrogateStyle[index]}}(this._length)});this._length++}while(this._length>this._surrogateStyle.length){this._length--;Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,value:void 0})}},_set:function(property,value){this._style[property]=value;this._isAnimatedProperty[property]=!0;if(this._updateSvgTransformAttr&&"transform"==scope.unprefixedPropertyName(property)){if(null==this._savedTransformAttr){this._savedTransformAttr=this._element.getAttribute("transform")}this._element.setAttribute("transform",scope.transformToSvgMatrix(value))}},_clear:function(property){this._style[property]=this._surrogateStyle[property];if(this._updateSvgTransformAttr&&"transform"==scope.unprefixedPropertyName(property)){if(this._savedTransformAttr){this._element.setAttribute("transform",this._savedTransformAttr)}else{this._element.removeAttribute("transform")}this._savedTransformAttr=null}delete this._isAnimatedProperty[property]}};for(var method in styleMethods){AnimatedCSSStyleDeclaration.prototype[method]=function(method,modifiesStyle){return function(){var result=this._surrogateStyle[method].apply(this._surrogateStyle,arguments);if(modifiesStyle){if(!this._isAnimatedProperty[arguments[0]])this._style[method].apply(this._style,arguments);this._updateIndices()}return result}}(method,method in styleMutatingMethods)}for(var property in document.documentElement.style){if(property in styleAttributes||property in styleMethods){continue}(function(property){configureProperty(AnimatedCSSStyleDeclaration.prototype,property,{get:function(){return this._surrogateStyle[property]},set:function(value){this._surrogateStyle[property]=value;this._updateIndices();if(!this._isAnimatedProperty[property])this._style[property]=value}})})(property)}function ensureStyleIsPatched(element){if(element._webAnimationsPatchedStyle)return;var animatedStyle=new AnimatedCSSStyleDeclaration(element);try{configureProperty(element,"style",{get:function(){return animatedStyle}})}catch(_){element.style._set=function(property,value){element.style[property]=value};element.style._clear=function(property){element.style[property]=""}}element._webAnimationsPatchedStyle=element.style}scope.apply=function(element,property,value){ensureStyleIsPatched(element);element.style._set(scope.propertyName(property),value)};scope.clear=function(element,property){if(element._webAnimationsPatchedStyle){element.style._clear(scope.propertyName(property))}};if(WEB_ANIMATIONS_TESTING){testing.ensureStyleIsPatched=ensureStyleIsPatched;testing.updateSvgTransformAttr=updateSvgTransformAttr}})(webAnimations1,webAnimationsTesting);